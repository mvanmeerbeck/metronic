{"version":3,"file":"pdfkit.es5.js","sources":["../lib/abstract_reference.js","../lib/object.js","../lib/reference.js","../lib/page.js","../lib/security.js","../lib/gradient.js","../lib/mixins/color.js","../lib/path.js","../lib/mixins/vector.js","../lib/font/afm.js","../lib/font.js","../lib/font/standard.js","../lib/font/embedded.js","../lib/font_factory.js","../lib/mixins/fonts.js","../lib/line_wrapper.js","../lib/mixins/text.js","../lib/image/jpeg.js","../lib/image/png.js","../lib/image.js","../lib/mixins/images.js","../lib/mixins/annotations.js","../lib/outline.js","../lib/mixins/outline.js","../lib/document.js"],"sourcesContent":["/*\nPDFAbstractReference - abstract class for PDF reference\n*/\n\nclass PDFAbstractReference {\n  toString() {\n    throw new Error('Must be implemented by subclasses');\n  }\n}\n\nexport default PDFAbstractReference;\n","/*\nPDFObject - converts JavaScript types into their corresponding PDF types.\nBy Devon Govett\n*/\n\nimport PDFAbstractReference from './abstract_reference';\n\nconst pad = (str, length) => (Array(length + 1).join('0') + str).slice(-length);\n\nconst escapableRe = /[\\n\\r\\t\\b\\f\\(\\)\\\\]/g;\nconst escapable = {\n  '\\n': '\\\\n',\n  '\\r': '\\\\r',\n  '\\t': '\\\\t',\n  '\\b': '\\\\b',\n  '\\f': '\\\\f',\n  '\\\\': '\\\\\\\\',\n  '(': '\\\\(',\n  ')': '\\\\)'\n};\n\n// Convert little endian UTF-16 to big endian\nconst swapBytes = function(buff) {\n  const l = buff.length;\n  if (l & 0x01) {\n    throw new Error('Buffer length must be even');\n  } else {\n    for (let i = 0, end = l - 1; i < end; i += 2) {\n      const a = buff[i];\n      buff[i] = buff[i + 1];\n      buff[i + 1] = a;\n    }\n  }\n\n  return buff;\n};\n\nclass PDFObject {\n  static convert(object, encryptFn = null) {\n    // String literals are converted to the PDF name type\n    if (typeof object === 'string') {\n      return `/${object}`;\n\n      // String objects are converted to PDF strings (UTF-16)\n    } else if (object instanceof String) {\n      let string = object;\n      // Detect if this is a unicode string\n      let isUnicode = false;\n      for (let i = 0, end = string.length; i < end; i++) {\n        if (string.charCodeAt(i) > 0x7f) {\n          isUnicode = true;\n          break;\n        }\n      }\n\n      // If so, encode it as big endian UTF-16\n      let stringBuffer;\n      if (isUnicode) {\n        stringBuffer = swapBytes(new Buffer(`\\ufeff${string}`, 'utf16le'));\n      } else {\n        stringBuffer = new Buffer(string, 'ascii');\n      }\n\n      // Encrypt the string when necessary\n      if (encryptFn) {\n        string = encryptFn(stringBuffer).toString('binary');\n      } else {\n        string = stringBuffer.toString('binary');\n      }\n\n      // Escape characters as required by the spec\n      string = string.replace(escapableRe, c => escapable[c]);\n\n      return `(${string})`;\n\n      // Buffers are converted to PDF hex strings\n    } else if (Buffer.isBuffer(object)) {\n      return `<${object.toString('hex')}>`;\n    } else if (object instanceof PDFAbstractReference) {\n      return object.toString();\n    } else if (object instanceof Date) {\n      let string =\n        `D:${pad(object.getUTCFullYear(), 4)}` +\n        pad(object.getUTCMonth() + 1, 2) +\n        pad(object.getUTCDate(), 2) +\n        pad(object.getUTCHours(), 2) +\n        pad(object.getUTCMinutes(), 2) +\n        pad(object.getUTCSeconds(), 2) +\n        'Z';\n\n      // Encrypt the string when necessary\n      if (encryptFn) {\n        string = encryptFn(new Buffer(string, 'ascii')).toString('binary');\n\n        // Escape characters as required by the spec\n        string = string.replace(escapableRe, c => escapable[c]);\n      }\n\n      return `(${string})`;\n    } else if (Array.isArray(object)) {\n      const items = object.map(e => PDFObject.convert(e, encryptFn)).join(' ');\n      return `[${items}]`;\n    } else if ({}.toString.call(object) === '[object Object]') {\n      const out = ['<<'];\n      for (let key in object) {\n        const val = object[key];\n        out.push(`/${key} ${PDFObject.convert(val, encryptFn)}`);\n      }\n\n      out.push('>>');\n      return out.join('\\n');\n    } else if (typeof object === 'number') {\n      return PDFObject.number(object);\n    } else {\n      return `${object}`;\n    }\n  }\n\n  static number(n) {\n    if (n > -1e21 && n < 1e21) {\n      return Math.round(n * 1e6) / 1e6;\n    }\n\n    throw new Error(`unsupported number: ${n}`);\n  }\n}\n\nexport default PDFObject;\n","/*\nPDFReference - represents a reference to another object in the PDF object heirarchy\nBy Devon Govett\n*/\n\nimport zlib from 'zlib';\nimport PDFAbstractReference from './abstract_reference';\nimport PDFObject from './object';\n\nclass PDFReference extends PDFAbstractReference {\n  constructor(document, id, data) {\n    super();\n    this.document = document;\n    this.id = id;\n    if (data == null) {\n      data = {};\n    }\n    this.data = data;\n    this.gen = 0;\n    this.compress = this.document.compress && !this.data.Filter;\n    this.uncompressedLength = 0;\n    this.buffer = [];\n  }\n\n  write(chunk) {\n    if (!Buffer.isBuffer(chunk)) {\n      chunk = new Buffer(chunk + '\\n', 'binary');\n    }\n\n    this.uncompressedLength += chunk.length;\n    if (this.data.Length == null) {\n      this.data.Length = 0;\n    }\n    this.buffer.push(chunk);\n    this.data.Length += chunk.length;\n    if (this.compress) {\n      return (this.data.Filter = 'FlateDecode');\n    }\n  }\n\n  end(chunk) {\n    if (chunk) {\n      this.write(chunk);\n    }\n    return this.finalize();\n  }\n\n  finalize() {\n    this.offset = this.document._offset;\n\n    const encryptFn = this.document._security\n      ? this.document._security.getEncryptFn(this.id, this.gen)\n      : null;\n\n    if (this.buffer.length) {\n      this.buffer = Buffer.concat(this.buffer);\n      if (this.compress) {\n        this.buffer = zlib.deflateSync(this.buffer);\n      }\n\n      if (encryptFn) {\n        this.buffer = encryptFn(this.buffer);\n      }\n\n      this.data.Length = this.buffer.length;\n    }\n\n    this.document._write(`${this.id} ${this.gen} obj`);\n    this.document._write(PDFObject.convert(this.data, encryptFn));\n\n    if (this.buffer.length) {\n      this.document._write('stream');\n      this.document._write(this.buffer);\n\n      this.buffer = []; // free up memory\n      this.document._write('\\nendstream');\n    }\n\n    this.document._write('endobj');\n    this.document._refEnd(this);\n  }\n  toString() {\n    return `${this.id} ${this.gen} R`;\n  }\n}\n\nexport default PDFReference;\n","/*\nPDFPage - represents a single page in the PDF document\nBy Devon Govett\n*/\n\nconst DEFAULT_MARGINS = {\n  top: 72,\n  left: 72,\n  bottom: 72,\n  right: 72\n};\n\nconst SIZES = {\n  '4A0': [4767.87, 6740.79],\n  '2A0': [3370.39, 4767.87],\n  A0: [2383.94, 3370.39],\n  A1: [1683.78, 2383.94],\n  A2: [1190.55, 1683.78],\n  A3: [841.89, 1190.55],\n  A4: [595.28, 841.89],\n  A5: [419.53, 595.28],\n  A6: [297.64, 419.53],\n  A7: [209.76, 297.64],\n  A8: [147.4, 209.76],\n  A9: [104.88, 147.4],\n  A10: [73.7, 104.88],\n  B0: [2834.65, 4008.19],\n  B1: [2004.09, 2834.65],\n  B2: [1417.32, 2004.09],\n  B3: [1000.63, 1417.32],\n  B4: [708.66, 1000.63],\n  B5: [498.9, 708.66],\n  B6: [354.33, 498.9],\n  B7: [249.45, 354.33],\n  B8: [175.75, 249.45],\n  B9: [124.72, 175.75],\n  B10: [87.87, 124.72],\n  C0: [2599.37, 3676.54],\n  C1: [1836.85, 2599.37],\n  C2: [1298.27, 1836.85],\n  C3: [918.43, 1298.27],\n  C4: [649.13, 918.43],\n  C5: [459.21, 649.13],\n  C6: [323.15, 459.21],\n  C7: [229.61, 323.15],\n  C8: [161.57, 229.61],\n  C9: [113.39, 161.57],\n  C10: [79.37, 113.39],\n  RA0: [2437.8, 3458.27],\n  RA1: [1729.13, 2437.8],\n  RA2: [1218.9, 1729.13],\n  RA3: [864.57, 1218.9],\n  RA4: [609.45, 864.57],\n  SRA0: [2551.18, 3628.35],\n  SRA1: [1814.17, 2551.18],\n  SRA2: [1275.59, 1814.17],\n  SRA3: [907.09, 1275.59],\n  SRA4: [637.8, 907.09],\n  EXECUTIVE: [521.86, 756.0],\n  FOLIO: [612.0, 936.0],\n  LEGAL: [612.0, 1008.0],\n  LETTER: [612.0, 792.0],\n  TABLOID: [792.0, 1224.0]\n};\n\nclass PDFPage {\n  constructor(document, options) {\n    this.document = document;\n    if (options == null) {\n      options = {};\n    }\n    this.size = options.size || 'letter';\n    this.layout = options.layout || 'portrait';\n\n    // process margins\n    if (typeof options.margin === 'number') {\n      this.margins = {\n        top: options.margin,\n        left: options.margin,\n        bottom: options.margin,\n        right: options.margin\n      };\n\n      // default to 1 inch margins\n    } else {\n      this.margins = options.margins || DEFAULT_MARGINS;\n    }\n\n    // calculate page dimensions\n    const dimensions = Array.isArray(this.size)\n      ? this.size\n      : SIZES[this.size.toUpperCase()];\n    this.width = dimensions[this.layout === 'portrait' ? 0 : 1];\n    this.height = dimensions[this.layout === 'portrait' ? 1 : 0];\n\n    this.content = this.document.ref();\n\n    // Initialize the Font, XObject, and ExtGState dictionaries\n    this.resources = this.document.ref({\n      ProcSet: ['PDF', 'Text', 'ImageB', 'ImageC', 'ImageI']\n    });\n\n    // The page dictionary\n    this.dictionary = this.document.ref({\n      Type: 'Page',\n      Parent: this.document._root.data.Pages,\n      MediaBox: [0, 0, this.width, this.height],\n      Contents: this.content,\n      Resources: this.resources\n    });\n  }\n\n  // Lazily create these dictionaries\n  get fonts() {\n    const data = this.resources.data;\n    return data.Font != null ? data.Font : (data.Font = {});\n  }\n\n  get xobjects() {\n    const data = this.resources.data;\n    return data.XObject != null ? data.XObject : (data.XObject = {});\n  }\n\n  get ext_gstates() {\n    const data = this.resources.data;\n    return data.ExtGState != null ? data.ExtGState : (data.ExtGState = {});\n  }\n\n  get patterns() {\n    const data = this.resources.data;\n    return data.Pattern != null ? data.Pattern : (data.Pattern = {});\n  }\n\n  get annotations() {\n    const data = this.dictionary.data;\n    return data.Annots != null ? data.Annots : (data.Annots = []);\n  }\n\n  maxY() {\n    return this.height - this.margins.bottom;\n  }\n\n  write(chunk) {\n    return this.content.write(chunk);\n  }\n\n  end() {\n    this.dictionary.end();\n    this.resources.end();\n    return this.content.end();\n  }\n}\n\nexport default PDFPage;\n","/*\n   PDFSecurity - represents PDF security settings\n   By Yang Liu <hi@zesik.com>\n */\n\nimport CryptoJS from 'crypto-js';\nimport saslprep from 'saslprep';\n\nclass PDFSecurity {\n  static generateFileID(info = {}) {\n    let infoStr = `${info.CreationDate.getTime()}\\n`;\n\n    for (let key in info) {\n      if (!info.hasOwnProperty(key)) {\n        continue;\n      }\n      infoStr += `${key}: ${info[key].toString()}\\n`;\n    }\n\n    return wordArrayToBuffer(CryptoJS.MD5(infoStr));\n  }\n\n  static generateRandomWordArray(bytes) {\n    return CryptoJS.lib.WordArray.random(bytes);\n  }\n\n  static create(document, options = {}) {\n    if (!options.ownerPassword && !options.userPassword) {\n      return null;\n    }\n    return new PDFSecurity(document, options);\n  }\n\n  constructor(document, options = {}) {\n    if (!options.ownerPassword && !options.userPassword) {\n      throw new Error('None of owner password and user password is defined.');\n    }\n\n    this.document = document;\n    this._setupEncryption(options);\n  }\n\n  _setupEncryption(options) {\n    switch (options.pdfVersion) {\n      case '1.4':\n      case '1.5':\n        this.version = 2;\n        break;\n      case '1.6':\n      case '1.7':\n        this.version = 4;\n        break;\n      case '1.7ext3':\n        this.version = 5;\n        break;\n      default:\n        this.version = 1;\n        break;\n    }\n\n    const encDict = {\n      Filter: 'Standard'\n    };\n\n    switch (this.version) {\n      case 1:\n      case 2:\n      case 4:\n        this._setupEncryptionV1V2V4(this.version, encDict, options);\n        break;\n      case 5:\n        this._setupEncryptionV5(encDict, options);\n        break;\n    }\n\n    this.dictionary = this.document.ref(encDict);\n  }\n\n  _setupEncryptionV1V2V4(v, encDict, options) {\n    let r, permissions;\n    switch (v) {\n      case 1:\n        r = 2;\n        this.keyBits = 40;\n        permissions = getPermissionsR2(options.permissions);\n        break;\n      case 2:\n        r = 3;\n        this.keyBits = 128;\n        permissions = getPermissionsR3(options.permissions);\n        break;\n      case 4:\n        r = 4;\n        this.keyBits = 128;\n        permissions = getPermissionsR3(options.permissions);\n        break;\n    }\n\n    const paddedUserPassword = processPasswordR2R3R4(options.userPassword);\n    const paddedOwnerPassword = options.ownerPassword\n      ? processPasswordR2R3R4(options.ownerPassword)\n      : paddedUserPassword;\n\n    const ownerPasswordEntry = getOwnerPasswordR2R3R4(\n      r,\n      this.keyBits,\n      paddedUserPassword,\n      paddedOwnerPassword\n    );\n    this.encryptionKey = getEncryptionKeyR2R3R4(\n      r,\n      this.keyBits,\n      this.document._id,\n      paddedUserPassword,\n      ownerPasswordEntry,\n      permissions\n    );\n    let userPasswordEntry;\n    if (r === 2) {\n      userPasswordEntry = getUserPasswordR2(this.encryptionKey);\n    } else {\n      userPasswordEntry = getUserPasswordR3R4(\n        this.document._id,\n        this.encryptionKey\n      );\n    }\n\n    encDict.V = v;\n    if (v >= 2) {\n      encDict.Length = this.keyBits;\n    }\n    if (v === 4) {\n      encDict.CF = {\n        StdCF: {\n          AuthEvent: 'DocOpen',\n          CFM: 'AESV2',\n          Length: this.keyBits / 8\n        }\n      };\n      encDict.StmF = 'StdCF';\n      encDict.StrF = 'StdCF';\n    }\n    encDict.R = r;\n    encDict.O = wordArrayToBuffer(ownerPasswordEntry);\n    encDict.U = wordArrayToBuffer(userPasswordEntry);\n    encDict.P = permissions;\n  }\n\n  _setupEncryptionV5(encDict, options) {\n    this.keyBits = 256;\n    const permissions = getPermissionsR3(options);\n\n    const processedUserPassword = processPasswordR5(options.userPassword);\n    const processedOwnerPassword = options.ownerPassword\n      ? processPasswordR5(options.ownerPassword)\n      : processedUserPassword;\n\n    this.encryptionKey = getEncryptionKeyR5(\n      PDFSecurity.generateRandomWordArray\n    );\n    const userPasswordEntry = getUserPasswordR5(\n      processedUserPassword,\n      PDFSecurity.generateRandomWordArray\n    );\n    const userKeySalt = CryptoJS.lib.WordArray.create(\n      userPasswordEntry.words.slice(10, 12),\n      8\n    );\n    const userEncryptionKeyEntry = getUserEncryptionKeyR5(\n      processedUserPassword,\n      userKeySalt,\n      this.encryptionKey\n    );\n    const ownerPasswordEntry = getOwnerPasswordR5(\n      processedOwnerPassword,\n      userPasswordEntry,\n      PDFSecurity.generateRandomWordArray\n    );\n    const ownerKeySalt = CryptoJS.lib.WordArray.create(\n      ownerPasswordEntry.words.slice(10, 12),\n      8\n    );\n    const ownerEncryptionKeyEntry = getOwnerEncryptionKeyR5(\n      processedOwnerPassword,\n      ownerKeySalt,\n      userPasswordEntry,\n      this.encryptionKey\n    );\n    const permsEntry = getEncryptedPermissionsR5(\n      permissions,\n      this.encryptionKey,\n      PDFSecurity.generateRandomWordArray\n    );\n\n    encDict.V = 5;\n    encDict.Length = this.keyBits;\n    encDict.CF = {\n      StdCF: {\n        AuthEvent: 'DocOpen',\n        CFM: 'AESV3',\n        Length: this.keyBits / 8\n      }\n    };\n    encDict.StmF = 'StdCF';\n    encDict.StrF = 'StdCF';\n    encDict.R = 5;\n    encDict.O = wordArrayToBuffer(ownerPasswordEntry);\n    encDict.OE = wordArrayToBuffer(ownerEncryptionKeyEntry);\n    encDict.U = wordArrayToBuffer(userPasswordEntry);\n    encDict.UE = wordArrayToBuffer(userEncryptionKeyEntry);\n    encDict.P = permissions;\n    encDict.Perms = wordArrayToBuffer(permsEntry);\n  }\n\n  getEncryptFn(obj, gen) {\n    let digest;\n    if (this.version < 5) {\n      digest = this.encryptionKey\n        .clone()\n        .concat(\n          CryptoJS.lib.WordArray.create(\n            [\n              ((obj & 0xff) << 24) |\n                ((obj & 0xff00) << 8) |\n                ((obj >> 8) & 0xff00) |\n                (gen & 0xff),\n              (gen & 0xff00) << 16\n            ],\n            5\n          )\n        );\n    }\n\n    if (this.version === 1 || this.version === 2) {\n      let key = CryptoJS.MD5(digest);\n      key.sigBytes = Math.min(16, this.keyBits / 8 + 5);\n      return buffer =>\n        wordArrayToBuffer(\n          CryptoJS.RC4.encrypt(CryptoJS.lib.WordArray.create(buffer), key)\n            .ciphertext\n        );\n    }\n\n    let key;\n    if (this.version === 4) {\n      key = CryptoJS.MD5(\n        digest.concat(CryptoJS.lib.WordArray.create([0x73416c54], 4))\n      );\n    } else {\n      key = this.encryptionKey;\n    }\n\n    const iv = PDFSecurity.generateRandomWordArray(16);\n    const options = {\n      mode: CryptoJS.mode.CBC,\n      padding: CryptoJS.pad.Pkcs7,\n      iv\n    };\n\n    return buffer =>\n      wordArrayToBuffer(\n        iv\n          .clone()\n          .concat(\n            CryptoJS.AES.encrypt(\n              CryptoJS.lib.WordArray.create(buffer),\n              key,\n              options\n            ).ciphertext\n          )\n      );\n  }\n\n  end() {\n    this.dictionary.end();\n  }\n}\n\nfunction getPermissionsR2(permissionObject = {}) {\n  let permissions = 0xffffffc0 >> 0;\n  if (permissionObject.printing) {\n    permissions |= 0b00000000010;\n  }\n  if (permissionObject.modifying) {\n    permissions |= 0b000000001000;\n  }\n  if (permissionObject.copying) {\n    permissions |= 0b000000010000;\n  }\n  if (permissionObject.annotating) {\n    permissions |= 0b000000100000;\n  }\n  return permissions;\n}\n\nfunction getPermissionsR3(permissionObject = {}) {\n  let permissions = 0xfffff0c0 >> 0;\n  if (permissionObject.printing === 'lowResolution') {\n    permissions |= 0b000000000100;\n  }\n  if (permissionObject.printing === 'highResolution') {\n    permissions |= 0b100000000100;\n  }\n  if (permissionObject.modifying) {\n    permissions |= 0b000000001000;\n  }\n  if (permissionObject.copying) {\n    permissions |= 0b000000010000;\n  }\n  if (permissionObject.annotating) {\n    permissions |= 0b000000100000;\n  }\n  if (permissionObject.fillingForms) {\n    permissions |= 0b000100000000;\n  }\n  if (permissionObject.contentAccessibility) {\n    permissions |= 0b001000000000;\n  }\n  if (permissionObject.documentAssembly) {\n    permissions |= 0b010000000000;\n  }\n  return permissions;\n}\n\nfunction getUserPasswordR2(encryptionKey) {\n  return CryptoJS.RC4.encrypt(processPasswordR2R3R4(), encryptionKey)\n    .ciphertext;\n}\n\nfunction getUserPasswordR3R4(documentId, encryptionKey) {\n  const key = encryptionKey.clone();\n  let cipher = CryptoJS.MD5(\n    processPasswordR2R3R4().concat(CryptoJS.lib.WordArray.create(documentId))\n  );\n  for (let i = 0; i < 20; i++) {\n    const xorRound = Math.ceil(key.sigBytes / 4);\n    for (let j = 0; j < xorRound; j++) {\n      key.words[j] =\n        encryptionKey.words[j] ^ (i | (i << 8) | (i << 16) | (i << 24));\n    }\n    cipher = CryptoJS.RC4.encrypt(cipher, key).ciphertext;\n  }\n  return cipher.concat(CryptoJS.lib.WordArray.create(null, 16));\n}\n\nfunction getOwnerPasswordR2R3R4(\n  r,\n  keyBits,\n  paddedUserPassword,\n  paddedOwnerPassword\n) {\n  let digest = paddedOwnerPassword;\n  let round = r >= 3 ? 51 : 1;\n  for (let i = 0; i < round; i++) {\n    digest = CryptoJS.MD5(digest);\n  }\n\n  const key = digest.clone();\n  key.sigBytes = keyBits / 8;\n  let cipher = paddedUserPassword;\n  round = r >= 3 ? 20 : 1;\n  for (let i = 0; i < round; i++) {\n    const xorRound = Math.ceil(key.sigBytes / 4);\n    for (let j = 0; j < xorRound; j++) {\n      key.words[j] = digest.words[j] ^ (i | (i << 8) | (i << 16) | (i << 24));\n    }\n    cipher = CryptoJS.RC4.encrypt(cipher, key).ciphertext;\n  }\n  return cipher;\n}\n\nfunction getEncryptionKeyR2R3R4(\n  r,\n  keyBits,\n  documentId,\n  paddedUserPassword,\n  ownerPasswordEntry,\n  permissions\n) {\n  let key = paddedUserPassword\n    .clone()\n    .concat(ownerPasswordEntry)\n    .concat(CryptoJS.lib.WordArray.create([lsbFirstWord(permissions)], 4))\n    .concat(CryptoJS.lib.WordArray.create(documentId));\n  const round = r >= 3 ? 51 : 1;\n  for (let i = 0; i < round; i++) {\n    key = CryptoJS.MD5(key);\n    key.sigBytes = keyBits / 8;\n  }\n  return key;\n}\n\nfunction getUserPasswordR5(processedUserPassword, generateRandomWordArray) {\n  const validationSalt = generateRandomWordArray(8);\n  const keySalt = generateRandomWordArray(8);\n  return CryptoJS.SHA256(processedUserPassword.clone().concat(validationSalt))\n    .concat(validationSalt)\n    .concat(keySalt);\n}\n\nfunction getUserEncryptionKeyR5(\n  processedUserPassword,\n  userKeySalt,\n  encryptionKey\n) {\n  const key = CryptoJS.SHA256(\n    processedUserPassword.clone().concat(userKeySalt)\n  );\n  const options = {\n    mode: CryptoJS.mode.CBC,\n    padding: CryptoJS.pad.NoPadding,\n    iv: CryptoJS.lib.WordArray.create(null, 16)\n  };\n  return CryptoJS.AES.encrypt(encryptionKey, key, options).ciphertext;\n}\n\nfunction getOwnerPasswordR5(\n  processedOwnerPassword,\n  userPasswordEntry,\n  generateRandomWordArray\n) {\n  const validationSalt = generateRandomWordArray(8);\n  const keySalt = generateRandomWordArray(8);\n  return CryptoJS.SHA256(\n    processedOwnerPassword\n      .clone()\n      .concat(validationSalt)\n      .concat(userPasswordEntry)\n  )\n    .concat(validationSalt)\n    .concat(keySalt);\n}\n\nfunction getOwnerEncryptionKeyR5(\n  processedOwnerPassword,\n  ownerKeySalt,\n  userPasswordEntry,\n  encryptionKey\n) {\n  const key = CryptoJS.SHA256(\n    processedOwnerPassword\n      .clone()\n      .concat(ownerKeySalt)\n      .concat(userPasswordEntry)\n  );\n  const options = {\n    mode: CryptoJS.mode.CBC,\n    padding: CryptoJS.pad.NoPadding,\n    iv: CryptoJS.lib.WordArray.create(null, 16)\n  };\n  return CryptoJS.AES.encrypt(encryptionKey, key, options).ciphertext;\n}\n\nfunction getEncryptionKeyR5(generateRandomWordArray) {\n  return generateRandomWordArray(32);\n}\n\nfunction getEncryptedPermissionsR5(\n  permissions,\n  encryptionKey,\n  generateRandomWordArray\n) {\n  const cipher = CryptoJS.lib.WordArray.create(\n    [lsbFirstWord(permissions), 0xffffffff, 0x54616462],\n    12\n  ).concat(generateRandomWordArray(4));\n  const options = {\n    mode: CryptoJS.mode.ECB,\n    padding: CryptoJS.pad.NoPadding\n  };\n  return CryptoJS.AES.encrypt(cipher, encryptionKey, options).ciphertext;\n}\n\nfunction processPasswordR2R3R4(password = '') {\n  const out = new Buffer(32);\n  const length = password.length;\n  let index = 0;\n  while (index < length && index < 32) {\n    const code = password.charCodeAt(index);\n    if (code > 0xff) {\n      throw new Error('Password contains one or more invalid characters.');\n    }\n    out[index] = code;\n    index++;\n  }\n  while (index < 32) {\n    out[index] = PASSWORD_PADDING[index - length];\n    index++;\n  }\n  return CryptoJS.lib.WordArray.create(out);\n}\n\nfunction processPasswordR5(password = '') {\n  password = unescape(encodeURIComponent(saslprep(password)));\n  const length = Math.min(127, password.length);\n  const out = new Buffer(length);\n\n  for (let i = 0; i < length; i++) {\n    out[i] = password.charCodeAt(i);\n  }\n\n  return CryptoJS.lib.WordArray.create(out);\n}\n\nfunction lsbFirstWord(data) {\n  return (\n    ((data & 0xff) << 24) |\n    ((data & 0xff00) << 8) |\n    ((data >> 8) & 0xff00) |\n    ((data >> 24) & 0xff)\n  );\n}\n\nfunction wordArrayToBuffer(wordArray) {\n  const byteArray = [];\n  for (let i = 0; i < wordArray.sigBytes; i++) {\n    byteArray.push(\n      (wordArray.words[Math.floor(i / 4)] >> (8 * (3 - (i % 4)))) & 0xff\n    );\n  }\n  return Buffer.from(byteArray);\n}\n\nconst PASSWORD_PADDING = [\n  0x28,\n  0xbf,\n  0x4e,\n  0x5e,\n  0x4e,\n  0x75,\n  0x8a,\n  0x41,\n  0x64,\n  0x00,\n  0x4e,\n  0x56,\n  0xff,\n  0xfa,\n  0x01,\n  0x08,\n  0x2e,\n  0x2e,\n  0x00,\n  0xb6,\n  0xd0,\n  0x68,\n  0x3e,\n  0x80,\n  0x2f,\n  0x0c,\n  0xa9,\n  0xfe,\n  0x64,\n  0x53,\n  0x69,\n  0x7a\n];\n\nexport default PDFSecurity;\n","import PDFObject from './object';\n\nconst { number } = PDFObject;\n\nclass PDFGradient {\n  constructor(doc) {\n    this.doc = doc;\n    this.stops = [];\n    this.embedded = false;\n    this.transform = [1, 0, 0, 1, 0, 0];\n  }\n\n  stop(pos, color, opacity) {\n    if (opacity == null) {\n      opacity = 1;\n    }\n    color = this.doc._normalizeColor(color);\n\n    if (this.stops.length === 0) {\n      if (color.length === 3) {\n        this._colorSpace = 'DeviceRGB';\n      } else if (color.length === 4) {\n        this._colorSpace = 'DeviceCMYK';\n      } else if (color.length === 1) {\n        this._colorSpace = 'DeviceGray';\n      } else {\n        throw new Error('Unknown color space');\n      }\n    } else if (\n      (this._colorSpace === 'DeviceRGB' && color.length !== 3) ||\n      (this._colorSpace === 'DeviceCMYK' && color.length !== 4) ||\n      (this._colorSpace === 'DeviceGray' && color.length !== 1)\n    ) {\n      throw new Error('All gradient stops must use the same color space');\n    }\n\n    opacity = Math.max(0, Math.min(1, opacity));\n    this.stops.push([pos, color, opacity]);\n    return this;\n  }\n\n  setTransform(m11, m12, m21, m22, dx, dy) {\n    this.transform = [m11, m12, m21, m22, dx, dy];\n    return this;\n  }\n\n  embed(m) {\n    let asc, i;\n    let end, fn;\n    if (this.stops.length === 0) {\n      return;\n    }\n    this.embedded = true;\n    this.matrix = m;\n\n    // if the last stop comes before 100%, add a copy at 100%\n    const last = this.stops[this.stops.length - 1];\n    if (last[0] < 1) {\n      this.stops.push([1, last[1], last[2]]);\n    }\n\n    const bounds = [];\n    const encode = [];\n    const stops = [];\n\n    for (\n      i = 0, end = this.stops.length - 1, asc = 0 <= end;\n      asc ? i < end : i > end;\n      asc ? i++ : i--\n    ) {\n      encode.push(0, 1);\n      if (i + 2 !== this.stops.length) {\n        bounds.push(this.stops[i + 1][0]);\n      }\n\n      fn = this.doc.ref({\n        FunctionType: 2,\n        Domain: [0, 1],\n        C0: this.stops[i + 0][1],\n        C1: this.stops[i + 1][1],\n        N: 1\n      });\n\n      stops.push(fn);\n      fn.end();\n    }\n\n    // if there are only two stops, we don't need a stitching function\n    if (stops.length === 1) {\n      fn = stops[0];\n    } else {\n      fn = this.doc.ref({\n        FunctionType: 3, // stitching function\n        Domain: [0, 1],\n        Functions: stops,\n        Bounds: bounds,\n        Encode: encode\n      });\n\n      fn.end();\n    }\n\n    this.id = `Sh${++this.doc._gradCount}`;\n\n    const shader = this.shader(fn);\n    shader.end();\n\n    const pattern = this.doc.ref({\n      Type: 'Pattern',\n      PatternType: 2,\n      Shading: shader,\n      Matrix: this.matrix.map(v => number(v))\n    });\n\n    pattern.end();\n\n    if (this.stops.some(stop => stop[2] < 1)) {\n      let grad = this.opacityGradient();\n      grad._colorSpace = 'DeviceGray';\n\n      for (let stop of this.stops) {\n        grad.stop(stop[0], [stop[2]]);\n      }\n\n      grad = grad.embed(this.matrix);\n\n      const pageBBox = [0, 0, this.doc.page.width, this.doc.page.height];\n\n      const form = this.doc.ref({\n        Type: 'XObject',\n        Subtype: 'Form',\n        FormType: 1,\n        BBox: pageBBox,\n        Group: {\n          Type: 'Group',\n          S: 'Transparency',\n          CS: 'DeviceGray'\n        },\n        Resources: {\n          ProcSet: ['PDF', 'Text', 'ImageB', 'ImageC', 'ImageI'],\n          Pattern: {\n            Sh1: grad\n          }\n        }\n      });\n\n      form.write('/Pattern cs /Sh1 scn');\n      form.end(`${pageBBox.join(' ')} re f`);\n\n      const gstate = this.doc.ref({\n        Type: 'ExtGState',\n        SMask: {\n          Type: 'Mask',\n          S: 'Luminosity',\n          G: form\n        }\n      });\n\n      gstate.end();\n\n      const opacityPattern = this.doc.ref({\n        Type: 'Pattern',\n        PatternType: 1,\n        PaintType: 1,\n        TilingType: 2,\n        BBox: pageBBox,\n        XStep: pageBBox[2],\n        YStep: pageBBox[3],\n        Resources: {\n          ProcSet: ['PDF', 'Text', 'ImageB', 'ImageC', 'ImageI'],\n          Pattern: {\n            Sh1: pattern\n          },\n          ExtGState: {\n            Gs1: gstate\n          }\n        }\n      });\n\n      opacityPattern.write('/Gs1 gs /Pattern cs /Sh1 scn');\n      opacityPattern.end(`${pageBBox.join(' ')} re f`);\n\n      this.doc.page.patterns[this.id] = opacityPattern;\n    } else {\n      this.doc.page.patterns[this.id] = pattern;\n    }\n\n    return pattern;\n  }\n\n  apply(op) {\n    // apply gradient transform to existing document ctm\n    const [m0, m1, m2, m3, m4, m5] = this.doc._ctm;\n    const [m11, m12, m21, m22, dx, dy] = this.transform;\n    const m = [\n      m0 * m11 + m2 * m12,\n      m1 * m11 + m3 * m12,\n      m0 * m21 + m2 * m22,\n      m1 * m21 + m3 * m22,\n      m0 * dx + m2 * dy + m4,\n      m1 * dx + m3 * dy + m5\n    ];\n\n    if (!this.embedded || m.join(' ') !== this.matrix.join(' ')) {\n      this.embed(m);\n    }\n    return this.doc.addContent(`/${this.id} ${op}`);\n  }\n}\n\nclass PDFLinearGradient extends PDFGradient {\n  constructor(doc, x1, y1, x2, y2) {\n    super(doc);\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n  }\n\n  shader(fn) {\n    return this.doc.ref({\n      ShadingType: 2,\n      ColorSpace: this._colorSpace,\n      Coords: [this.x1, this.y1, this.x2, this.y2],\n      Function: fn,\n      Extend: [true, true]\n    });\n  }\n\n  opacityGradient() {\n    return new PDFLinearGradient(this.doc, this.x1, this.y1, this.x2, this.y2);\n  }\n}\n\nclass PDFRadialGradient extends PDFGradient {\n  constructor(doc, x1, y1, r1, x2, y2, r2) {\n    super(doc);\n    this.doc = doc;\n    this.x1 = x1;\n    this.y1 = y1;\n    this.r1 = r1;\n    this.x2 = x2;\n    this.y2 = y2;\n    this.r2 = r2;\n  }\n\n  shader(fn) {\n    return this.doc.ref({\n      ShadingType: 3,\n      ColorSpace: this._colorSpace,\n      Coords: [this.x1, this.y1, this.r1, this.x2, this.y2, this.r2],\n      Function: fn,\n      Extend: [true, true]\n    });\n  }\n\n  opacityGradient() {\n    return new PDFRadialGradient(\n      this.doc,\n      this.x1,\n      this.y1,\n      this.r1,\n      this.x2,\n      this.y2,\n      this.r2\n    );\n  }\n}\n\nexport default { PDFGradient, PDFLinearGradient, PDFRadialGradient };\n","import Gradient from '../gradient';\n\nconst { PDFGradient, PDFLinearGradient, PDFRadialGradient } = Gradient;\n\nexport default {\n  initColor() {\n    // The opacity dictionaries\n    this._opacityRegistry = {};\n    this._opacityCount = 0;\n    return (this._gradCount = 0);\n  },\n\n  _normalizeColor(color) {\n    if (color instanceof PDFGradient) {\n      return color;\n    }\n\n    if (typeof color === 'string') {\n      if (color.charAt(0) === '#') {\n        if (color.length === 4) {\n          color = color.replace(\n            /#([0-9A-F])([0-9A-F])([0-9A-F])/i,\n            '#$1$1$2$2$3$3'\n          );\n        }\n        const hex = parseInt(color.slice(1), 16);\n        color = [hex >> 16, (hex >> 8) & 0xff, hex & 0xff];\n      } else if (namedColors[color]) {\n        color = namedColors[color];\n      }\n    }\n\n    if (Array.isArray(color)) {\n      // RGB\n      if (color.length === 3) {\n        color = color.map(part => part / 255);\n        // CMYK\n      } else if (color.length === 4) {\n        color = color.map(part => part / 100);\n      }\n      return color;\n    }\n\n    return null;\n  },\n\n  _setColor(color, stroke) {\n    color = this._normalizeColor(color);\n    if (!color) {\n      return false;\n    }\n\n    const op = stroke ? 'SCN' : 'scn';\n\n    if (color instanceof PDFGradient) {\n      this._setColorSpace('Pattern', stroke);\n      color.apply(op);\n    } else {\n      const space = color.length === 4 ? 'DeviceCMYK' : 'DeviceRGB';\n      this._setColorSpace(space, stroke);\n\n      color = color.join(' ');\n      this.addContent(`${color} ${op}`);\n    }\n\n    return true;\n  },\n\n  _setColorSpace(space, stroke) {\n    const op = stroke ? 'CS' : 'cs';\n    return this.addContent(`/${space} ${op}`);\n  },\n\n  fillColor(color, opacity) {\n    const set = this._setColor(color, false);\n    if (set) {\n      this.fillOpacity(opacity);\n    }\n\n    // save this for text wrapper, which needs to reset\n    // the fill color on new pages\n    this._fillColor = [color, opacity];\n    return this;\n  },\n\n  strokeColor(color, opacity) {\n    const set = this._setColor(color, true);\n    if (set) {\n      this.strokeOpacity(opacity);\n    }\n    return this;\n  },\n\n  opacity(opacity) {\n    this._doOpacity(opacity, opacity);\n    return this;\n  },\n\n  fillOpacity(opacity) {\n    this._doOpacity(opacity, null);\n    return this;\n  },\n\n  strokeOpacity(opacity) {\n    this._doOpacity(null, opacity);\n    return this;\n  },\n\n  _doOpacity(fillOpacity, strokeOpacity) {\n    let dictionary, name;\n    if (fillOpacity == null && strokeOpacity == null) {\n      return;\n    }\n\n    if (fillOpacity != null) {\n      fillOpacity = Math.max(0, Math.min(1, fillOpacity));\n    }\n    if (strokeOpacity != null) {\n      strokeOpacity = Math.max(0, Math.min(1, strokeOpacity));\n    }\n    const key = `${fillOpacity}_${strokeOpacity}`;\n\n    if (this._opacityRegistry[key]) {\n      [dictionary, name] = this._opacityRegistry[key];\n    } else {\n      dictionary = { Type: 'ExtGState' };\n\n      if (fillOpacity != null) {\n        dictionary.ca = fillOpacity;\n      }\n      if (strokeOpacity != null) {\n        dictionary.CA = strokeOpacity;\n      }\n\n      dictionary = this.ref(dictionary);\n      dictionary.end();\n      const id = ++this._opacityCount;\n      name = `Gs${id}`;\n      this._opacityRegistry[key] = [dictionary, name];\n    }\n\n    this.page.ext_gstates[name] = dictionary;\n    return this.addContent(`/${name} gs`);\n  },\n\n  linearGradient(x1, y1, x2, y2) {\n    return new PDFLinearGradient(this, x1, y1, x2, y2);\n  },\n\n  radialGradient(x1, y1, r1, x2, y2, r2) {\n    return new PDFRadialGradient(this, x1, y1, r1, x2, y2, r2);\n  }\n};\n\nvar namedColors = {\n  aliceblue: [240, 248, 255],\n  antiquewhite: [250, 235, 215],\n  aqua: [0, 255, 255],\n  aquamarine: [127, 255, 212],\n  azure: [240, 255, 255],\n  beige: [245, 245, 220],\n  bisque: [255, 228, 196],\n  black: [0, 0, 0],\n  blanchedalmond: [255, 235, 205],\n  blue: [0, 0, 255],\n  blueviolet: [138, 43, 226],\n  brown: [165, 42, 42],\n  burlywood: [222, 184, 135],\n  cadetblue: [95, 158, 160],\n  chartreuse: [127, 255, 0],\n  chocolate: [210, 105, 30],\n  coral: [255, 127, 80],\n  cornflowerblue: [100, 149, 237],\n  cornsilk: [255, 248, 220],\n  crimson: [220, 20, 60],\n  cyan: [0, 255, 255],\n  darkblue: [0, 0, 139],\n  darkcyan: [0, 139, 139],\n  darkgoldenrod: [184, 134, 11],\n  darkgray: [169, 169, 169],\n  darkgreen: [0, 100, 0],\n  darkgrey: [169, 169, 169],\n  darkkhaki: [189, 183, 107],\n  darkmagenta: [139, 0, 139],\n  darkolivegreen: [85, 107, 47],\n  darkorange: [255, 140, 0],\n  darkorchid: [153, 50, 204],\n  darkred: [139, 0, 0],\n  darksalmon: [233, 150, 122],\n  darkseagreen: [143, 188, 143],\n  darkslateblue: [72, 61, 139],\n  darkslategray: [47, 79, 79],\n  darkslategrey: [47, 79, 79],\n  darkturquoise: [0, 206, 209],\n  darkviolet: [148, 0, 211],\n  deeppink: [255, 20, 147],\n  deepskyblue: [0, 191, 255],\n  dimgray: [105, 105, 105],\n  dimgrey: [105, 105, 105],\n  dodgerblue: [30, 144, 255],\n  firebrick: [178, 34, 34],\n  floralwhite: [255, 250, 240],\n  forestgreen: [34, 139, 34],\n  fuchsia: [255, 0, 255],\n  gainsboro: [220, 220, 220],\n  ghostwhite: [248, 248, 255],\n  gold: [255, 215, 0],\n  goldenrod: [218, 165, 32],\n  gray: [128, 128, 128],\n  grey: [128, 128, 128],\n  green: [0, 128, 0],\n  greenyellow: [173, 255, 47],\n  honeydew: [240, 255, 240],\n  hotpink: [255, 105, 180],\n  indianred: [205, 92, 92],\n  indigo: [75, 0, 130],\n  ivory: [255, 255, 240],\n  khaki: [240, 230, 140],\n  lavender: [230, 230, 250],\n  lavenderblush: [255, 240, 245],\n  lawngreen: [124, 252, 0],\n  lemonchiffon: [255, 250, 205],\n  lightblue: [173, 216, 230],\n  lightcoral: [240, 128, 128],\n  lightcyan: [224, 255, 255],\n  lightgoldenrodyellow: [250, 250, 210],\n  lightgray: [211, 211, 211],\n  lightgreen: [144, 238, 144],\n  lightgrey: [211, 211, 211],\n  lightpink: [255, 182, 193],\n  lightsalmon: [255, 160, 122],\n  lightseagreen: [32, 178, 170],\n  lightskyblue: [135, 206, 250],\n  lightslategray: [119, 136, 153],\n  lightslategrey: [119, 136, 153],\n  lightsteelblue: [176, 196, 222],\n  lightyellow: [255, 255, 224],\n  lime: [0, 255, 0],\n  limegreen: [50, 205, 50],\n  linen: [250, 240, 230],\n  magenta: [255, 0, 255],\n  maroon: [128, 0, 0],\n  mediumaquamarine: [102, 205, 170],\n  mediumblue: [0, 0, 205],\n  mediumorchid: [186, 85, 211],\n  mediumpurple: [147, 112, 219],\n  mediumseagreen: [60, 179, 113],\n  mediumslateblue: [123, 104, 238],\n  mediumspringgreen: [0, 250, 154],\n  mediumturquoise: [72, 209, 204],\n  mediumvioletred: [199, 21, 133],\n  midnightblue: [25, 25, 112],\n  mintcream: [245, 255, 250],\n  mistyrose: [255, 228, 225],\n  moccasin: [255, 228, 181],\n  navajowhite: [255, 222, 173],\n  navy: [0, 0, 128],\n  oldlace: [253, 245, 230],\n  olive: [128, 128, 0],\n  olivedrab: [107, 142, 35],\n  orange: [255, 165, 0],\n  orangered: [255, 69, 0],\n  orchid: [218, 112, 214],\n  palegoldenrod: [238, 232, 170],\n  palegreen: [152, 251, 152],\n  paleturquoise: [175, 238, 238],\n  palevioletred: [219, 112, 147],\n  papayawhip: [255, 239, 213],\n  peachpuff: [255, 218, 185],\n  peru: [205, 133, 63],\n  pink: [255, 192, 203],\n  plum: [221, 160, 221],\n  powderblue: [176, 224, 230],\n  purple: [128, 0, 128],\n  red: [255, 0, 0],\n  rosybrown: [188, 143, 143],\n  royalblue: [65, 105, 225],\n  saddlebrown: [139, 69, 19],\n  salmon: [250, 128, 114],\n  sandybrown: [244, 164, 96],\n  seagreen: [46, 139, 87],\n  seashell: [255, 245, 238],\n  sienna: [160, 82, 45],\n  silver: [192, 192, 192],\n  skyblue: [135, 206, 235],\n  slateblue: [106, 90, 205],\n  slategray: [112, 128, 144],\n  slategrey: [112, 128, 144],\n  snow: [255, 250, 250],\n  springgreen: [0, 255, 127],\n  steelblue: [70, 130, 180],\n  tan: [210, 180, 140],\n  teal: [0, 128, 128],\n  thistle: [216, 191, 216],\n  tomato: [255, 99, 71],\n  turquoise: [64, 224, 208],\n  violet: [238, 130, 238],\n  wheat: [245, 222, 179],\n  white: [255, 255, 255],\n  whitesmoke: [245, 245, 245],\n  yellow: [255, 255, 0],\n  yellowgreen: [154, 205, 50]\n};\n","let cx, cy, px, py, sx, sy;\n\ncx = cy = px = py = sx = sy = 0;\n\nconst parameters = {\n  A: 7,\n  a: 7,\n  C: 6,\n  c: 6,\n  H: 1,\n  h: 1,\n  L: 2,\n  l: 2,\n  M: 2,\n  m: 2,\n  Q: 4,\n  q: 4,\n  S: 4,\n  s: 4,\n  T: 2,\n  t: 2,\n  V: 1,\n  v: 1,\n  Z: 0,\n  z: 0\n};\n\nconst parse = function(path) {\n  let cmd;\n  const ret = [];\n  let args = [];\n  let curArg = '';\n  let foundDecimal = false;\n  let params = 0;\n\n  for (let c of path) {\n    if (parameters[c] != null) {\n      params = parameters[c];\n      if (cmd) {\n        // save existing command\n        if (curArg.length > 0) {\n          args[args.length] = +curArg;\n        }\n        ret[ret.length] = { cmd, args };\n\n        args = [];\n        curArg = '';\n        foundDecimal = false;\n      }\n\n      cmd = c;\n    } else if (\n      [' ', ','].includes(c) ||\n      (c === '-' && curArg.length > 0 && curArg[curArg.length - 1] !== 'e') ||\n      (c === '.' && foundDecimal)\n    ) {\n      if (curArg.length === 0) {\n        continue;\n      }\n\n      if (args.length === params) {\n        // handle reused commands\n        ret[ret.length] = { cmd, args };\n        args = [+curArg];\n\n        // handle assumed commands\n        if (cmd === 'M') {\n          cmd = 'L';\n        }\n        if (cmd === 'm') {\n          cmd = 'l';\n        }\n      } else {\n        args[args.length] = +curArg;\n      }\n\n      foundDecimal = c === '.';\n\n      // fix for negative numbers or repeated decimals with no delimeter between commands\n      curArg = ['-', '.'].includes(c) ? c : '';\n    } else {\n      curArg += c;\n      if (c === '.') {\n        foundDecimal = true;\n      }\n    }\n  }\n\n  // add the last command\n  if (curArg.length > 0) {\n    if (args.length === params) {\n      // handle reused commands\n      ret[ret.length] = { cmd, args };\n      args = [+curArg];\n\n      // handle assumed commands\n      if (cmd === 'M') {\n        cmd = 'L';\n      }\n      if (cmd === 'm') {\n        cmd = 'l';\n      }\n    } else {\n      args[args.length] = +curArg;\n    }\n  }\n\n  ret[ret.length] = { cmd, args };\n\n  return ret;\n};\n\nconst apply = function(commands, doc) {\n  // current point, control point, and subpath starting point\n  cx = cy = px = py = sx = sy = 0;\n\n  // run the commands\n  for (let i = 0; i < commands.length; i++) {\n    const c = commands[i];\n    if (typeof runners[c.cmd] === 'function') {\n      runners[c.cmd](doc, c.args);\n    }\n  }\n};\n\nconst runners = {\n  M(doc, a) {\n    cx = a[0];\n    cy = a[1];\n    px = py = null;\n    sx = cx;\n    sy = cy;\n    return doc.moveTo(cx, cy);\n  },\n\n  m(doc, a) {\n    cx += a[0];\n    cy += a[1];\n    px = py = null;\n    sx = cx;\n    sy = cy;\n    return doc.moveTo(cx, cy);\n  },\n\n  C(doc, a) {\n    cx = a[4];\n    cy = a[5];\n    px = a[2];\n    py = a[3];\n    return doc.bezierCurveTo(...(a || []));\n  },\n\n  c(doc, a) {\n    doc.bezierCurveTo(\n      a[0] + cx,\n      a[1] + cy,\n      a[2] + cx,\n      a[3] + cy,\n      a[4] + cx,\n      a[5] + cy\n    );\n    px = cx + a[2];\n    py = cy + a[3];\n    cx += a[4];\n    return (cy += a[5]);\n  },\n\n  S(doc, a) {\n    if (px === null) {\n      px = cx;\n      py = cy;\n    }\n\n    doc.bezierCurveTo(cx - (px - cx), cy - (py - cy), a[0], a[1], a[2], a[3]);\n    px = a[0];\n    py = a[1];\n    cx = a[2];\n    return (cy = a[3]);\n  },\n\n  s(doc, a) {\n    if (px === null) {\n      px = cx;\n      py = cy;\n    }\n\n    doc.bezierCurveTo(\n      cx - (px - cx),\n      cy - (py - cy),\n      cx + a[0],\n      cy + a[1],\n      cx + a[2],\n      cy + a[3]\n    );\n    px = cx + a[0];\n    py = cy + a[1];\n    cx += a[2];\n    return (cy += a[3]);\n  },\n\n  Q(doc, a) {\n    px = a[0];\n    py = a[1];\n    cx = a[2];\n    cy = a[3];\n    return doc.quadraticCurveTo(a[0], a[1], cx, cy);\n  },\n\n  q(doc, a) {\n    doc.quadraticCurveTo(a[0] + cx, a[1] + cy, a[2] + cx, a[3] + cy);\n    px = cx + a[0];\n    py = cy + a[1];\n    cx += a[2];\n    return (cy += a[3]);\n  },\n\n  T(doc, a) {\n    if (px === null) {\n      px = cx;\n      py = cy;\n    } else {\n      px = cx - (px - cx);\n      py = cy - (py - cy);\n    }\n\n    doc.quadraticCurveTo(px, py, a[0], a[1]);\n    px = cx - (px - cx);\n    py = cy - (py - cy);\n    cx = a[0];\n    return (cy = a[1]);\n  },\n\n  t(doc, a) {\n    if (px === null) {\n      px = cx;\n      py = cy;\n    } else {\n      px = cx - (px - cx);\n      py = cy - (py - cy);\n    }\n\n    doc.quadraticCurveTo(px, py, cx + a[0], cy + a[1]);\n    cx += a[0];\n    return (cy += a[1]);\n  },\n\n  A(doc, a) {\n    solveArc(doc, cx, cy, a);\n    cx = a[5];\n    return (cy = a[6]);\n  },\n\n  a(doc, a) {\n    a[5] += cx;\n    a[6] += cy;\n    solveArc(doc, cx, cy, a);\n    cx = a[5];\n    return (cy = a[6]);\n  },\n\n  L(doc, a) {\n    cx = a[0];\n    cy = a[1];\n    px = py = null;\n    return doc.lineTo(cx, cy);\n  },\n\n  l(doc, a) {\n    cx += a[0];\n    cy += a[1];\n    px = py = null;\n    return doc.lineTo(cx, cy);\n  },\n\n  H(doc, a) {\n    cx = a[0];\n    px = py = null;\n    return doc.lineTo(cx, cy);\n  },\n\n  h(doc, a) {\n    cx += a[0];\n    px = py = null;\n    return doc.lineTo(cx, cy);\n  },\n\n  V(doc, a) {\n    cy = a[0];\n    px = py = null;\n    return doc.lineTo(cx, cy);\n  },\n\n  v(doc, a) {\n    cy += a[0];\n    px = py = null;\n    return doc.lineTo(cx, cy);\n  },\n\n  Z(doc) {\n    doc.closePath();\n    cx = sx;\n    return (cy = sy);\n  },\n\n  z(doc) {\n    doc.closePath();\n    cx = sx;\n    return (cy = sy);\n  }\n};\n\nconst solveArc = function(doc, x, y, coords) {\n  const [rx, ry, rot, large, sweep, ex, ey] = coords;\n  const segs = arcToSegments(ex, ey, rx, ry, large, sweep, rot, x, y);\n\n  for (let seg of segs) {\n    const bez = segmentToBezier(...(seg || []));\n    doc.bezierCurveTo(...(bez || []));\n  }\n};\n\n// from Inkscape svgtopdf, thanks!\nconst arcToSegments = function(x, y, rx, ry, large, sweep, rotateX, ox, oy) {\n  const th = rotateX * (Math.PI / 180);\n  const sin_th = Math.sin(th);\n  const cos_th = Math.cos(th);\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n  px = cos_th * (ox - x) * 0.5 + sin_th * (oy - y) * 0.5;\n  py = cos_th * (oy - y) * 0.5 - sin_th * (ox - x) * 0.5;\n  let pl = (px * px) / (rx * rx) + (py * py) / (ry * ry);\n  if (pl > 1) {\n    pl = Math.sqrt(pl);\n    rx *= pl;\n    ry *= pl;\n  }\n\n  const a00 = cos_th / rx;\n  const a01 = sin_th / rx;\n  const a10 = -sin_th / ry;\n  const a11 = cos_th / ry;\n  const x0 = a00 * ox + a01 * oy;\n  const y0 = a10 * ox + a11 * oy;\n  const x1 = a00 * x + a01 * y;\n  const y1 = a10 * x + a11 * y;\n\n  const d = (x1 - x0) * (x1 - x0) + (y1 - y0) * (y1 - y0);\n  let sfactor_sq = 1 / d - 0.25;\n  if (sfactor_sq < 0) {\n    sfactor_sq = 0;\n  }\n  let sfactor = Math.sqrt(sfactor_sq);\n  if (sweep === large) {\n    sfactor = -sfactor;\n  }\n\n  const xc = 0.5 * (x0 + x1) - sfactor * (y1 - y0);\n  const yc = 0.5 * (y0 + y1) + sfactor * (x1 - x0);\n\n  const th0 = Math.atan2(y0 - yc, x0 - xc);\n  const th1 = Math.atan2(y1 - yc, x1 - xc);\n\n  let th_arc = th1 - th0;\n  if (th_arc < 0 && sweep === 1) {\n    th_arc += 2 * Math.PI;\n  } else if (th_arc > 0 && sweep === 0) {\n    th_arc -= 2 * Math.PI;\n  }\n\n  const segments = Math.ceil(Math.abs(th_arc / (Math.PI * 0.5 + 0.001)));\n  const result = [];\n\n  for (\n    let i = 0, end = segments, asc = 0 <= end;\n    asc ? i < end : i > end;\n    asc ? i++ : i--\n  ) {\n    const th2 = th0 + (i * th_arc) / segments;\n    const th3 = th0 + ((i + 1) * th_arc) / segments;\n    result[i] = [xc, yc, th2, th3, rx, ry, sin_th, cos_th];\n  }\n\n  return result;\n};\n\nconst segmentToBezier = function(cx, cy, th0, th1, rx, ry, sin_th, cos_th) {\n  const a00 = cos_th * rx;\n  const a01 = -sin_th * ry;\n  const a10 = sin_th * rx;\n  const a11 = cos_th * ry;\n\n  const th_half = 0.5 * (th1 - th0);\n  const t =\n    ((8 / 3) * Math.sin(th_half * 0.5) * Math.sin(th_half * 0.5)) /\n    Math.sin(th_half);\n  const x1 = cx + Math.cos(th0) - t * Math.sin(th0);\n  const y1 = cy + Math.sin(th0) + t * Math.cos(th0);\n  const x3 = cx + Math.cos(th1);\n  const y3 = cy + Math.sin(th1);\n  const x2 = x3 + t * Math.sin(th1);\n  const y2 = y3 - t * Math.cos(th1);\n\n  return [\n    a00 * x1 + a01 * y1,\n    a10 * x1 + a11 * y1,\n    a00 * x2 + a01 * y2,\n    a10 * x2 + a11 * y2,\n    a00 * x3 + a01 * y3,\n    a10 * x3 + a11 * y3\n  ];\n};\n\nclass SVGPath {\n  static apply(doc, path) {\n    const commands = parse(path);\n    apply(commands, doc);\n  }\n}\n\nexport default SVGPath;\n","import SVGPath from '../path';\nimport PDFObject from '../object';\n\nconst { number } = PDFObject;\n\n// This constant is used to approximate a symmetrical arc using a cubic\n// Bezier curve.\nconst KAPPA = 4.0 * ((Math.sqrt(2) - 1.0) / 3.0);\nexport default {\n  initVector() {\n    this._ctm = [1, 0, 0, 1, 0, 0]; // current transformation matrix\n    return (this._ctmStack = []);\n  },\n\n  save() {\n    this._ctmStack.push(this._ctm.slice());\n    // TODO: save/restore colorspace and styles so not setting it unnessesarily all the time?\n    return this.addContent('q');\n  },\n\n  restore() {\n    this._ctm = this._ctmStack.pop() || [1, 0, 0, 1, 0, 0];\n    return this.addContent('Q');\n  },\n\n  closePath() {\n    return this.addContent('h');\n  },\n\n  lineWidth(w) {\n    return this.addContent(`${number(w)} w`);\n  },\n\n  _CAP_STYLES: {\n    BUTT: 0,\n    ROUND: 1,\n    SQUARE: 2\n  },\n\n  lineCap(c) {\n    if (typeof c === 'string') {\n      c = this._CAP_STYLES[c.toUpperCase()];\n    }\n    return this.addContent(`${c} J`);\n  },\n\n  _JOIN_STYLES: {\n    MITER: 0,\n    ROUND: 1,\n    BEVEL: 2\n  },\n\n  lineJoin(j) {\n    if (typeof j === 'string') {\n      j = this._JOIN_STYLES[j.toUpperCase()];\n    }\n    return this.addContent(`${j} j`);\n  },\n\n  miterLimit(m) {\n    return this.addContent(`${number(m)} M`);\n  },\n\n  dash(length, options) {\n    let phase;\n    if (options == null) {\n      options = {};\n    }\n    if (length == null) {\n      return this;\n    }\n    if (Array.isArray(length)) {\n      length = length.map(v => number(v)).join(' ');\n      phase = options.phase || 0;\n      return this.addContent(`[${length}] ${number(phase)} d`);\n    } else {\n      const space = options.space != null ? options.space : length;\n      phase = options.phase || 0;\n      return this.addContent(\n        `[${number(length)} ${number(space)}] ${number(phase)} d`\n      );\n    }\n  },\n\n  undash() {\n    return this.addContent('[] 0 d');\n  },\n\n  moveTo(x, y) {\n    return this.addContent(`${number(x)} ${number(y)} m`);\n  },\n\n  lineTo(x, y) {\n    return this.addContent(`${number(x)} ${number(y)} l`);\n  },\n\n  bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\n    return this.addContent(\n      `${number(cp1x)} ${number(cp1y)} ${number(cp2x)} ${number(cp2y)} ${number(\n        x\n      )} ${number(y)} c`\n    );\n  },\n\n  quadraticCurveTo(cpx, cpy, x, y) {\n    return this.addContent(\n      `${number(cpx)} ${number(cpy)} ${number(x)} ${number(y)} v`\n    );\n  },\n\n  rect(x, y, w, h) {\n    return this.addContent(\n      `${number(x)} ${number(y)} ${number(w)} ${number(h)} re`\n    );\n  },\n\n  roundedRect(x, y, w, h, r) {\n    if (r == null) {\n      r = 0;\n    }\n    r = Math.min(r, 0.5 * w, 0.5 * h);\n\n    // amount to inset control points from corners (see `ellipse`)\n    const c = r * (1.0 - KAPPA);\n\n    this.moveTo(x + r, y);\n    this.lineTo(x + w - r, y);\n    this.bezierCurveTo(x + w - c, y, x + w, y + c, x + w, y + r);\n    this.lineTo(x + w, y + h - r);\n    this.bezierCurveTo(x + w, y + h - c, x + w - c, y + h, x + w - r, y + h);\n    this.lineTo(x + r, y + h);\n    this.bezierCurveTo(x + c, y + h, x, y + h - c, x, y + h - r);\n    this.lineTo(x, y + r);\n    this.bezierCurveTo(x, y + c, x + c, y, x + r, y);\n    return this.closePath();\n  },\n\n  ellipse(x, y, r1, r2) {\n    // based on http://stackoverflow.com/questions/2172798/how-to-draw-an-oval-in-html5-canvas/2173084#2173084\n    if (r2 == null) {\n      r2 = r1;\n    }\n    x -= r1;\n    y -= r2;\n    const ox = r1 * KAPPA;\n    const oy = r2 * KAPPA;\n    const xe = x + r1 * 2;\n    const ye = y + r2 * 2;\n    const xm = x + r1;\n    const ym = y + r2;\n\n    this.moveTo(x, ym);\n    this.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n    this.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n    this.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n    this.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n    return this.closePath();\n  },\n\n  circle(x, y, radius) {\n    return this.ellipse(x, y, radius);\n  },\n\n  arc(x, y, radius, startAngle, endAngle, anticlockwise) {\n    if (anticlockwise == null) {\n      anticlockwise = false;\n    }\n    const TWO_PI = 2.0 * Math.PI;\n    const HALF_PI = 0.5 * Math.PI;\n\n    let deltaAng = endAngle - startAngle;\n\n    if (Math.abs(deltaAng) > TWO_PI) {\n      // draw only full circle if more than that is specified\n      deltaAng = TWO_PI;\n    } else if (deltaAng !== 0 && anticlockwise !== deltaAng < 0) {\n      // necessary to flip direction of rendering\n      const dir = anticlockwise ? -1 : 1;\n      deltaAng = dir * TWO_PI + deltaAng;\n    }\n\n    const numSegs = Math.ceil(Math.abs(deltaAng) / HALF_PI);\n    const segAng = deltaAng / numSegs;\n    const handleLen = (segAng / HALF_PI) * KAPPA * radius;\n    let curAng = startAngle;\n\n    // component distances between anchor point and control point\n    let deltaCx = -Math.sin(curAng) * handleLen;\n    let deltaCy = Math.cos(curAng) * handleLen;\n\n    // anchor point\n    let ax = x + Math.cos(curAng) * radius;\n    let ay = y + Math.sin(curAng) * radius;\n\n    // calculate and render segments\n    this.moveTo(ax, ay);\n\n    for (\n      let segIdx = 0, end = numSegs, asc = 0 <= end;\n      asc ? segIdx < end : segIdx > end;\n      asc ? segIdx++ : segIdx--\n    ) {\n      // starting control point\n      const cp1x = ax + deltaCx;\n      const cp1y = ay + deltaCy;\n\n      // step angle\n      curAng += segAng;\n\n      // next anchor point\n      ax = x + Math.cos(curAng) * radius;\n      ay = y + Math.sin(curAng) * radius;\n\n      // next control point delta\n      deltaCx = -Math.sin(curAng) * handleLen;\n      deltaCy = Math.cos(curAng) * handleLen;\n\n      // ending control point\n      const cp2x = ax - deltaCx;\n      const cp2y = ay - deltaCy;\n\n      // render segment\n      this.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, ax, ay);\n    }\n\n    return this;\n  },\n\n  polygon(...points) {\n    this.moveTo(...(points.shift() || []));\n    for (let point of points) {\n      this.lineTo(...(point || []));\n    }\n    return this.closePath();\n  },\n\n  path(path) {\n    SVGPath.apply(this, path);\n    return this;\n  },\n\n  _windingRule(rule) {\n    if (/even-?odd/.test(rule)) {\n      return '*';\n    }\n\n    return '';\n  },\n\n  fill(color, rule) {\n    if (/(even-?odd)|(non-?zero)/.test(color)) {\n      rule = color;\n      color = null;\n    }\n\n    if (color) {\n      this.fillColor(color);\n    }\n    return this.addContent(`f${this._windingRule(rule)}`);\n  },\n\n  stroke(color) {\n    if (color) {\n      this.strokeColor(color);\n    }\n    return this.addContent('S');\n  },\n\n  fillAndStroke(fillColor, strokeColor, rule) {\n    if (strokeColor == null) {\n      strokeColor = fillColor;\n    }\n    const isFillRule = /(even-?odd)|(non-?zero)/;\n    if (isFillRule.test(fillColor)) {\n      rule = fillColor;\n      fillColor = null;\n    }\n\n    if (isFillRule.test(strokeColor)) {\n      rule = strokeColor;\n      strokeColor = fillColor;\n    }\n\n    if (fillColor) {\n      this.fillColor(fillColor);\n      this.strokeColor(strokeColor);\n    }\n\n    return this.addContent(`B${this._windingRule(rule)}`);\n  },\n\n  clip(rule) {\n    return this.addContent(`W${this._windingRule(rule)} n`);\n  },\n\n  transform(m11, m12, m21, m22, dx, dy) {\n    // keep track of the current transformation matrix\n    const m = this._ctm;\n    const [m0, m1, m2, m3, m4, m5] = m;\n    m[0] = m0 * m11 + m2 * m12;\n    m[1] = m1 * m11 + m3 * m12;\n    m[2] = m0 * m21 + m2 * m22;\n    m[3] = m1 * m21 + m3 * m22;\n    m[4] = m0 * dx + m2 * dy + m4;\n    m[5] = m1 * dx + m3 * dy + m5;\n\n    const values = [m11, m12, m21, m22, dx, dy].map(v => number(v)).join(' ');\n    return this.addContent(`${values} cm`);\n  },\n\n  translate(x, y) {\n    return this.transform(1, 0, 0, 1, x, y);\n  },\n\n  rotate(angle, options) {\n    let y;\n    if (options == null) {\n      options = {};\n    }\n    const rad = (angle * Math.PI) / 180;\n    const cos = Math.cos(rad);\n    const sin = Math.sin(rad);\n    let x = (y = 0);\n\n    if (options.origin != null) {\n      [x, y] = options.origin;\n      const x1 = x * cos - y * sin;\n      const y1 = x * sin + y * cos;\n      x -= x1;\n      y -= y1;\n    }\n\n    return this.transform(cos, sin, -sin, cos, x, y);\n  },\n\n  scale(xFactor, yFactor, options) {\n    let y;\n    if (yFactor == null) {\n      yFactor = xFactor;\n    }\n    if (options == null) {\n      options = {};\n    }\n    if (typeof yFactor === 'object') {\n      options = yFactor;\n      yFactor = xFactor;\n    }\n\n    let x = (y = 0);\n    if (options.origin != null) {\n      [x, y] = options.origin;\n      x -= xFactor * x;\n      y -= yFactor * y;\n    }\n\n    return this.transform(xFactor, 0, 0, yFactor, x, y);\n  }\n};\n","import fs from 'fs';\n\nconst WIN_ANSI_MAP = {\n  402: 131,\n  8211: 150,\n  8212: 151,\n  8216: 145,\n  8217: 146,\n  8218: 130,\n  8220: 147,\n  8221: 148,\n  8222: 132,\n  8224: 134,\n  8225: 135,\n  8226: 149,\n  8230: 133,\n  8364: 128,\n  8240: 137,\n  8249: 139,\n  8250: 155,\n  710: 136,\n  8482: 153,\n  338: 140,\n  339: 156,\n  732: 152,\n  352: 138,\n  353: 154,\n  376: 159,\n  381: 142,\n  382: 158\n};\n\nconst characters = `\\\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n.notdef       .notdef        .notdef        .notdef\n  \nspace         exclam         quotedbl       numbersign\ndollar        percent        ampersand      quotesingle\nparenleft     parenright     asterisk       plus\ncomma         hyphen         period         slash\nzero          one            two            three\nfour          five           six            seven\neight         nine           colon          semicolon\nless          equal          greater        question\n  \nat            A              B              C\nD             E              F              G\nH             I              J              K\nL             M              N              O\nP             Q              R              S\nT             U              V              W\nX             Y              Z              bracketleft\nbackslash     bracketright   asciicircum    underscore\n  \ngrave         a              b              c\nd             e              f              g\nh             i              j              k\nl             m              n              o\np             q              r              s\nt             u              v              w\nx             y              z              braceleft\nbar           braceright     asciitilde     .notdef\n  \nEuro          .notdef        quotesinglbase florin\nquotedblbase  ellipsis       dagger         daggerdbl\ncircumflex    perthousand    Scaron         guilsinglleft\nOE            .notdef        Zcaron         .notdef\n.notdef       quoteleft      quoteright     quotedblleft\nquotedblright bullet         endash         emdash\ntilde         trademark      scaron         guilsinglright\noe            .notdef        zcaron         ydieresis\n  \nspace         exclamdown     cent           sterling\ncurrency      yen            brokenbar      section\ndieresis      copyright      ordfeminine    guillemotleft\nlogicalnot    hyphen         registered     macron\ndegree        plusminus      twosuperior    threesuperior\nacute         mu             paragraph      periodcentered\ncedilla       onesuperior    ordmasculine   guillemotright\nonequarter    onehalf        threequarters  questiondown\n  \nAgrave        Aacute         Acircumflex    Atilde\nAdieresis     Aring          AE             Ccedilla\nEgrave        Eacute         Ecircumflex    Edieresis\nIgrave        Iacute         Icircumflex    Idieresis\nEth           Ntilde         Ograve         Oacute\nOcircumflex   Otilde         Odieresis      multiply\nOslash        Ugrave         Uacute         Ucircumflex\nUdieresis     Yacute         Thorn          germandbls\n  \nagrave        aacute         acircumflex    atilde\nadieresis     aring          ae             ccedilla\negrave        eacute         ecircumflex    edieresis\nigrave        iacute         icircumflex    idieresis\neth           ntilde         ograve         oacute\nocircumflex   otilde         odieresis      divide\noslash        ugrave         uacute         ucircumflex\nudieresis     yacute         thorn          ydieresis\\\n`.split(/\\s+/);\n\nclass AFMFont {\n  static open(filename) {\n    return new AFMFont(fs.readFileSync(filename, 'utf8'));\n  }\n\n  constructor(contents) {\n    this.contents = contents;\n    this.attributes = {};\n    this.glyphWidths = {};\n    this.boundingBoxes = {};\n    this.kernPairs = {};\n\n    this.parse();\n    // todo: remove charWidths since appears to not be used\n    this.charWidths = new Array(256);\n    for (let char = 0; char <= 255; char++) {\n      this.charWidths[char] = this.glyphWidths[characters[char]];\n    }\n\n    this.bbox = this.attributes['FontBBox'].split(/\\s+/).map(e => +e);\n    this.ascender = +(this.attributes['Ascender'] || 0);\n    this.descender = +(this.attributes['Descender'] || 0);\n    this.xHeight = +(this.attributes['XHeight'] || 0);\n    this.capHeight = +(this.attributes['CapHeight'] || 0);\n    this.lineGap =\n      this.bbox[3] - this.bbox[1] - (this.ascender - this.descender);\n  }\n\n  parse() {\n    let section = '';\n    for (let line of this.contents.split('\\n')) {\n      var match;\n      var a;\n      if ((match = line.match(/^Start(\\w+)/))) {\n        section = match[1];\n        continue;\n      } else if ((match = line.match(/^End(\\w+)/))) {\n        section = '';\n        continue;\n      }\n\n      switch (section) {\n        case 'FontMetrics':\n          match = line.match(/(^\\w+)\\s+(.*)/);\n          var key = match[1];\n          var value = match[2];\n\n          if ((a = this.attributes[key])) {\n            if (!Array.isArray(a)) {\n              a = this.attributes[key] = [a];\n            }\n            a.push(value);\n          } else {\n            this.attributes[key] = value;\n          }\n          break;\n\n        case 'CharMetrics':\n          if (!/^CH?\\s/.test(line)) {\n            continue;\n          }\n          var name = line.match(/\\bN\\s+(\\.?\\w+)\\s*;/)[1];\n          this.glyphWidths[name] = +line.match(/\\bWX\\s+(\\d+)\\s*;/)[1];\n          break;\n\n        case 'KernPairs':\n          match = line.match(/^KPX\\s+(\\.?\\w+)\\s+(\\.?\\w+)\\s+(-?\\d+)/);\n          if (match) {\n            this.kernPairs[match[1] + '\\0' + match[2]] = parseInt(match[3]);\n          }\n          break;\n      }\n    }\n  }\n\n  encodeText(text) {\n    const res = [];\n    for (\n      let i = 0, end = text.length, asc = 0 <= end;\n      asc ? i < end : i > end;\n      asc ? i++ : i--\n    ) {\n      let char = text.charCodeAt(i);\n      char = WIN_ANSI_MAP[char] || char;\n      res.push(char.toString(16));\n    }\n\n    return res;\n  }\n\n  glyphsForString(string) {\n    const glyphs = [];\n\n    for (\n      let i = 0, end = string.length, asc = 0 <= end;\n      asc ? i < end : i > end;\n      asc ? i++ : i--\n    ) {\n      const charCode = string.charCodeAt(i);\n      glyphs.push(this.characterToGlyph(charCode));\n    }\n\n    return glyphs;\n  }\n\n  characterToGlyph(character) {\n    return characters[WIN_ANSI_MAP[character] || character] || '.notdef';\n  }\n\n  widthOfGlyph(glyph) {\n    return this.glyphWidths[glyph] || 0;\n  }\n\n  getKernPair(left, right) {\n    return this.kernPairs[left + '\\0' + right] || 0;\n  }\n\n  advancesForGlyphs(glyphs) {\n    const advances = [];\n\n    for (let index = 0; index < glyphs.length; index++) {\n      const left = glyphs[index];\n      const right = glyphs[index + 1];\n      advances.push(this.widthOfGlyph(left) + this.getKernPair(left, right));\n    }\n\n    return advances;\n  }\n}\n\nexport default AFMFont;\n","class PDFFont {\n  constructor() {}\n\n  encode() {\n    throw new Error('Must be implemented by subclasses');\n  }\n\n  widthOfString() {\n    throw new Error('Must be implemented by subclasses');\n  }\n\n  ref() {\n    return this.dictionary != null\n      ? this.dictionary\n      : (this.dictionary = this.document.ref());\n  }\n\n  finalize() {\n    if (this.embedded || this.dictionary == null) {\n      return;\n    }\n\n    this.embed();\n    return (this.embedded = true);\n  }\n\n  embed() {\n    throw new Error('Must be implemented by subclasses');\n  }\n\n  lineHeight(size, includeGap) {\n    if (includeGap == null) {\n      includeGap = false;\n    }\n    const gap = includeGap ? this.lineGap : 0;\n    return ((this.ascender + gap - this.descender) / 1000) * size;\n  }\n}\n\nexport default PDFFont;\n","import AFMFont from './afm';\nimport PDFFont from '../font';\nimport fs from 'fs';\n\n// This insanity is so bundlers can inline the font files\nconst STANDARD_FONTS = {\n  Courier() {\n    return fs.readFileSync(__dirname + '/data/Courier.afm', 'utf8');\n  },\n  'Courier-Bold'() {\n    return fs.readFileSync(__dirname + '/data/Courier-Bold.afm', 'utf8');\n  },\n  'Courier-Oblique'() {\n    return fs.readFileSync(__dirname + '/data/Courier-Oblique.afm', 'utf8');\n  },\n  'Courier-BoldOblique'() {\n    return fs.readFileSync(__dirname + '/data/Courier-BoldOblique.afm', 'utf8');\n  },\n  Helvetica() {\n    return fs.readFileSync(__dirname + '/data/Helvetica.afm', 'utf8');\n  },\n  'Helvetica-Bold'() {\n    return fs.readFileSync(__dirname + '/data/Helvetica-Bold.afm', 'utf8');\n  },\n  'Helvetica-Oblique'() {\n    return fs.readFileSync(__dirname + '/data/Helvetica-Oblique.afm', 'utf8');\n  },\n  'Helvetica-BoldOblique'() {\n    return fs.readFileSync(\n      __dirname + '/data/Helvetica-BoldOblique.afm',\n      'utf8'\n    );\n  },\n  'Times-Roman'() {\n    return fs.readFileSync(__dirname + '/data/Times-Roman.afm', 'utf8');\n  },\n  'Times-Bold'() {\n    return fs.readFileSync(__dirname + '/data/Times-Bold.afm', 'utf8');\n  },\n  'Times-Italic'() {\n    return fs.readFileSync(__dirname + '/data/Times-Italic.afm', 'utf8');\n  },\n  'Times-BoldItalic'() {\n    return fs.readFileSync(__dirname + '/data/Times-BoldItalic.afm', 'utf8');\n  },\n  Symbol() {\n    return fs.readFileSync(__dirname + '/data/Symbol.afm', 'utf8');\n  },\n  ZapfDingbats() {\n    return fs.readFileSync(__dirname + '/data/ZapfDingbats.afm', 'utf8');\n  }\n};\n\nclass StandardFont extends PDFFont {\n  constructor(document, name, id) {\n    super();\n    this.document = document;\n    this.name = name;\n    this.id = id;\n    this.font = new AFMFont(STANDARD_FONTS[this.name]());\n    ({\n      ascender: this.ascender,\n      descender: this.descender,\n      bbox: this.bbox,\n      lineGap: this.lineGap,\n      xHeight: this.xHeight,\n      capHeight: this.capHeight\n    } = this.font);\n  }\n\n  embed() {\n    this.dictionary.data = {\n      Type: 'Font',\n      BaseFont: this.name,\n      Subtype: 'Type1',\n      Encoding: 'WinAnsiEncoding'\n    };\n\n    return this.dictionary.end();\n  }\n\n  encode(text) {\n    const encoded = this.font.encodeText(text);\n    const glyphs = this.font.glyphsForString(`${text}`);\n    const advances = this.font.advancesForGlyphs(glyphs);\n    const positions = [];\n    for (let i = 0; i < glyphs.length; i++) {\n      const glyph = glyphs[i];\n      positions.push({\n        xAdvance: advances[i],\n        yAdvance: 0,\n        xOffset: 0,\n        yOffset: 0,\n        advanceWidth: this.font.widthOfGlyph(glyph)\n      });\n    }\n\n    return [encoded, positions];\n  }\n\n  widthOfString(string, size) {\n    const glyphs = this.font.glyphsForString(`${string}`);\n    const advances = this.font.advancesForGlyphs(glyphs);\n\n    let width = 0;\n    for (let advance of advances) {\n      width += advance;\n    }\n\n    const scale = size / 1000;\n    return width * scale;\n  }\n\n  static isStandardFont(name) {\n    return name in STANDARD_FONTS;\n  }\n}\n\nexport default StandardFont;\n","import PDFFont from '../font';\n\nconst toHex = function(num) {\n  return `0000${num.toString(16)}`.slice(-4);\n};\n\nclass EmbeddedFont extends PDFFont {\n  constructor(document, font, id) {\n    super();\n    this.document = document;\n    this.font = font;\n    this.id = id;\n    this.subset = this.font.createSubset();\n    this.unicode = [[0]];\n    this.widths = [this.font.getGlyph(0).advanceWidth];\n\n    this.name = this.font.postscriptName;\n    this.scale = 1000 / this.font.unitsPerEm;\n    this.ascender = this.font.ascent * this.scale;\n    this.descender = this.font.descent * this.scale;\n    this.xHeight = this.font.xHeight * this.scale;\n    this.capHeight = this.font.capHeight * this.scale;\n    this.lineGap = this.font.lineGap * this.scale;\n    this.bbox = this.font.bbox;\n\n    this.layoutCache = Object.create(null);\n  }\n\n  layoutRun(text, features) {\n    const run = this.font.layout(text, features);\n\n    // Normalize position values\n    for (let i = 0; i < run.positions.length; i++) {\n      const position = run.positions[i];\n      for (let key in position) {\n        position[key] *= this.scale;\n      }\n\n      position.advanceWidth = run.glyphs[i].advanceWidth * this.scale;\n    }\n\n    return run;\n  }\n\n  layoutCached(text) {\n    let cached;\n    if ((cached = this.layoutCache[text])) {\n      return cached;\n    }\n\n    const run = this.layoutRun(text);\n    this.layoutCache[text] = run;\n    return run;\n  }\n\n  layout(text, features, onlyWidth) {\n    // Skip the cache if any user defined features are applied\n    if (onlyWidth == null) {\n      onlyWidth = false;\n    }\n    if (features) {\n      return this.layoutRun(text, features);\n    }\n\n    const glyphs = onlyWidth ? null : [];\n    const positions = onlyWidth ? null : [];\n    let advanceWidth = 0;\n\n    // Split the string by words to increase cache efficiency.\n    // For this purpose, spaces and tabs are a good enough delimeter.\n    let last = 0;\n    let index = 0;\n    while (index <= text.length) {\n      var needle;\n      if (\n        (index === text.length && last < index) ||\n        ((needle = text.charAt(index)), [' ', '\\t'].includes(needle))\n      ) {\n        const run = this.layoutCached(text.slice(last, ++index));\n        if (!onlyWidth) {\n          glyphs.push(...(run.glyphs || []));\n          positions.push(...(run.positions || []));\n        }\n\n        advanceWidth += run.advanceWidth;\n        last = index;\n      } else {\n        index++;\n      }\n    }\n\n    return { glyphs, positions, advanceWidth };\n  }\n\n  encode(text, features) {\n    const { glyphs, positions } = this.layout(text, features);\n\n    const res = [];\n    for (let i = 0; i < glyphs.length; i++) {\n      const glyph = glyphs[i];\n      const gid = this.subset.includeGlyph(glyph.id);\n      res.push(`0000${gid.toString(16)}`.slice(-4));\n\n      if (this.widths[gid] == null) {\n        this.widths[gid] = glyph.advanceWidth * this.scale;\n      }\n      if (this.unicode[gid] == null) {\n        this.unicode[gid] = glyph.codePoints;\n      }\n    }\n\n    return [res, positions];\n  }\n\n  widthOfString(string, size, features) {\n    const width = this.layout(string, features, true).advanceWidth;\n    const scale = size / 1000;\n    return width * scale;\n  }\n\n  embed() {\n    const isCFF = this.subset.cff != null;\n    const fontFile = this.document.ref();\n\n    if (isCFF) {\n      fontFile.data.Subtype = 'CIDFontType0C';\n    }\n\n    this.subset\n      .encodeStream()\n      .on('data', data => fontFile.write(data))\n      .on('end', () => fontFile.end());\n\n    const familyClass =\n      ((this.font['OS/2'] != null\n        ? this.font['OS/2'].sFamilyClass\n        : undefined) || 0) >> 8;\n    let flags = 0;\n    if (this.font.post.isFixedPitch) {\n      flags |= 1 << 0;\n    }\n    if (1 <= familyClass && familyClass <= 7) {\n      flags |= 1 << 1;\n    }\n    flags |= 1 << 2; // assume the font uses non-latin characters\n    if (familyClass === 10) {\n      flags |= 1 << 3;\n    }\n    if (this.font.head.macStyle.italic) {\n      flags |= 1 << 6;\n    }\n\n    // generate a tag (6 uppercase letters. 16 is the char code offset from '1' to 'A'. 74 will map to 'Z')\n    const tag = [1, 2, 3, 4, 5, 6]\n      .map(i => String.fromCharCode((this.id.charCodeAt(i) || 74) + 16))\n      .join('');\n    const name = tag + '+' + this.font.postscriptName;\n\n    const { bbox } = this.font;\n    const descriptor = this.document.ref({\n      Type: 'FontDescriptor',\n      FontName: name,\n      Flags: flags,\n      FontBBox: [\n        bbox.minX * this.scale,\n        bbox.minY * this.scale,\n        bbox.maxX * this.scale,\n        bbox.maxY * this.scale\n      ],\n      ItalicAngle: this.font.italicAngle,\n      Ascent: this.ascender,\n      Descent: this.descender,\n      CapHeight: (this.font.capHeight || this.font.ascent) * this.scale,\n      XHeight: (this.font.xHeight || 0) * this.scale,\n      StemV: 0\n    }); // not sure how to calculate this\n\n    if (isCFF) {\n      descriptor.data.FontFile3 = fontFile;\n    } else {\n      descriptor.data.FontFile2 = fontFile;\n    }\n\n    descriptor.end();\n\n    const descendantFont = this.document.ref({\n      Type: 'Font',\n      Subtype: isCFF ? 'CIDFontType0' : 'CIDFontType2',\n      BaseFont: name,\n      CIDSystemInfo: {\n        Registry: new String('Adobe'),\n        Ordering: new String('Identity'),\n        Supplement: 0\n      },\n      FontDescriptor: descriptor,\n      W: [0, this.widths]\n    });\n\n    descendantFont.end();\n\n    this.dictionary.data = {\n      Type: 'Font',\n      Subtype: 'Type0',\n      BaseFont: name,\n      Encoding: 'Identity-H',\n      DescendantFonts: [descendantFont],\n      ToUnicode: this.toUnicodeCmap()\n    };\n\n    return this.dictionary.end();\n  }\n\n  // Maps the glyph ids encoded in the PDF back to unicode strings\n  // Because of ligature substitutions and the like, there may be one or more\n  // unicode characters represented by each glyph.\n  toUnicodeCmap() {\n    const cmap = this.document.ref();\n\n    const entries = [];\n    for (let codePoints of this.unicode) {\n      const encoded = [];\n\n      // encode codePoints to utf16\n      for (let value of codePoints) {\n        if (value > 0xffff) {\n          value -= 0x10000;\n          encoded.push(toHex(((value >>> 10) & 0x3ff) | 0xd800));\n          value = 0xdc00 | (value & 0x3ff);\n        }\n\n        encoded.push(toHex(value));\n      }\n\n      entries.push(`<${encoded.join(' ')}>`);\n    }\n\n    cmap.end(`\\\n/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange\n1 beginbfrange\n<0000> <${toHex(entries.length - 1)}> [${entries.join(' ')}]\nendbfrange\nendcmap\nCMapName currentdict /CMap defineresource pop\nend\nend\\\n`);\n\n    return cmap;\n  }\n}\n\nexport default EmbeddedFont;\n","import fontkit from 'fontkit';\nimport StandardFont from './font/standard';\nimport EmbeddedFont from './font/embedded';\n\nclass PDFFontFactory {\n  static open(document, src, family, id) {\n    let font;\n    if (typeof src === 'string') {\n      if (StandardFont.isStandardFont(src)) {\n        return new StandardFont(document, src, id);\n      }\n\n      font = fontkit.openSync(src, family);\n    } else if (Buffer.isBuffer(src)) {\n      font = fontkit.create(src, family);\n    } else if (src instanceof Uint8Array) {\n      font = fontkit.create(new Buffer(src), family);\n    } else if (src instanceof ArrayBuffer) {\n      font = fontkit.create(new Buffer(new Uint8Array(src)), family);\n    }\n\n    if (font == null) {\n      throw new Error('Not a supported font format or standard PDF font.');\n    }\n\n    return new EmbeddedFont(document, font, id);\n  }\n}\n\nexport default PDFFontFactory;\n","import PDFFontFactory from '../font_factory';\n\nexport default {\n  initFonts() {\n    // Lookup table for embedded fonts\n    this._fontFamilies = {};\n    this._fontCount = 0;\n\n    // Font state\n    this._fontSize = 12;\n    this._font = null;\n\n    this._registeredFonts = {};\n\n    // Set the default font\n    return this.font('Helvetica');\n  },\n\n  font(src, family, size) {\n    let cacheKey, font;\n    if (typeof family === 'number') {\n      size = family;\n      family = null;\n    }\n\n    // check registered fonts if src is a string\n    if (typeof src === 'string' && this._registeredFonts[src]) {\n      cacheKey = src;\n      ({ src, family } = this._registeredFonts[src]);\n    } else {\n      cacheKey = family || src;\n      if (typeof cacheKey !== 'string') {\n        cacheKey = null;\n      }\n    }\n\n    if (size != null) {\n      this.fontSize(size);\n    }\n\n    // fast path: check if the font is already in the PDF\n    if ((font = this._fontFamilies[cacheKey])) {\n      this._font = font;\n      return this;\n    }\n\n    // load the font\n    const id = `F${++this._fontCount}`;\n    this._font = PDFFontFactory.open(this, src, family, id);\n\n    // check for existing font familes with the same name already in the PDF\n    // useful if the font was passed as a buffer\n    if ((font = this._fontFamilies[this._font.name])) {\n      this._font = font;\n      return this;\n    }\n\n    // save the font for reuse later\n    if (cacheKey) {\n      this._fontFamilies[cacheKey] = this._font;\n    }\n\n    if (this._font.name) {\n      this._fontFamilies[this._font.name] = this._font;\n    }\n\n    return this;\n  },\n\n  fontSize(_fontSize) {\n    this._fontSize = _fontSize;\n    return this;\n  },\n\n  currentLineHeight(includeGap) {\n    if (includeGap == null) {\n      includeGap = false;\n    }\n    return this._font.lineHeight(this._fontSize, includeGap);\n  },\n\n  registerFont(name, src, family) {\n    this._registeredFonts[name] = {\n      src,\n      family\n    };\n\n    return this;\n  }\n};\n","import { EventEmitter } from 'events';\nimport LineBreaker from 'linebreak';\n\nclass LineWrapper extends EventEmitter {\n  constructor(document, options) {\n    super();\n    this.document = document;\n    this.indent = options.indent || 0;\n    this.characterSpacing = options.characterSpacing || 0;\n    this.wordSpacing = options.wordSpacing === 0;\n    this.columns = options.columns || 1;\n    this.columnGap = options.columnGap != null ? options.columnGap : 18; // 1/4 inch\n    this.lineWidth =\n      (options.width - this.columnGap * (this.columns - 1)) / this.columns;\n    this.spaceLeft = this.lineWidth;\n    this.startX = this.document.x;\n    this.startY = this.document.y;\n    this.column = 1;\n    this.ellipsis = options.ellipsis;\n    this.continuedX = 0;\n    this.features = options.features;\n\n    // calculate the maximum Y position the text can appear at\n    if (options.height != null) {\n      this.height = options.height;\n      this.maxY = this.startY + options.height;\n    } else {\n      this.maxY = this.document.page.maxY();\n    }\n\n    // handle paragraph indents\n    this.on('firstLine', options => {\n      // if this is the first line of the text segment, and\n      // we're continuing where we left off, indent that much\n      // otherwise use the user specified indent option\n      const indent = this.continuedX || this.indent;\n      this.document.x += indent;\n      this.lineWidth -= indent;\n\n      return this.once('line', () => {\n        this.document.x -= indent;\n        this.lineWidth += indent;\n        if (options.continued && !this.continuedX) {\n          this.continuedX = this.indent;\n        }\n        if (!options.continued) {\n          return (this.continuedX = 0);\n        }\n      });\n    });\n\n    // handle left aligning last lines of paragraphs\n    this.on('lastLine', options => {\n      const { align } = options;\n      if (align === 'justify') {\n        options.align = 'left';\n      }\n      this.lastLine = true;\n\n      return this.once('line', () => {\n        this.document.y += options.paragraphGap || 0;\n        options.align = align;\n        return (this.lastLine = false);\n      });\n    });\n  }\n\n  wordWidth(word) {\n    return (\n      this.document.widthOfString(word, this) +\n      this.characterSpacing +\n      this.wordSpacing\n    );\n  }\n\n  eachWord(text, fn) {\n    // setup a unicode line breaker\n    let bk;\n    const breaker = new LineBreaker(text);\n    let last = null;\n    const wordWidths = Object.create(null);\n\n    while ((bk = breaker.nextBreak())) {\n      var shouldContinue;\n      let word = text.slice(\n        (last != null ? last.position : undefined) || 0,\n        bk.position\n      );\n      let w =\n        wordWidths[word] != null\n          ? wordWidths[word]\n          : (wordWidths[word] = this.wordWidth(word));\n\n      // if the word is longer than the whole line, chop it up\n      // TODO: break by grapheme clusters, not JS string characters\n      if (w > this.lineWidth + this.continuedX) {\n        // make some fake break objects\n        let lbk = last;\n        const fbk = {};\n\n        while (word.length) {\n          // fit as much of the word as possible into the space we have\n          var l, mightGrow;\n          if (w > this.spaceLeft) {\n            // start our check at the end of our available space - this method is faster than a loop of each character and it resolves\n            // an issue with long loops when processing massive words, such as a huge number of spaces\n            l = Math.ceil(this.spaceLeft / (w / word.length));\n            w = this.wordWidth(word.slice(0, l));\n            mightGrow = w <= this.spaceLeft && l < word.length;\n          } else {\n            l = word.length;\n          }\n          let mustShrink = w > this.spaceLeft && l > 0;\n          // shrink or grow word as necessary after our near-guess above\n          while (mustShrink || mightGrow) {\n            if (mustShrink) {\n              w = this.wordWidth(word.slice(0, --l));\n              mustShrink = w > this.spaceLeft && l > 0;\n            } else {\n              w = this.wordWidth(word.slice(0, ++l));\n              mustShrink = w > this.spaceLeft && l > 0;\n              mightGrow = w <= this.spaceLeft && l < word.length;\n            }\n          }\n\n          // send a required break unless this is the last piece and a linebreak is not specified\n          fbk.required = bk.required || l < word.length;\n          shouldContinue = fn(word.slice(0, l), w, fbk, lbk);\n          lbk = { required: false };\n\n          // get the remaining piece of the word\n          word = word.slice(l);\n          w = this.wordWidth(word);\n\n          if (shouldContinue === false) {\n            break;\n          }\n        }\n      } else {\n        // otherwise just emit the break as it was given to us\n        shouldContinue = fn(word, w, bk, last);\n      }\n\n      if (shouldContinue === false) {\n        break;\n      }\n      last = bk;\n    }\n  }\n\n  wrap(text, options) {\n    // override options from previous continued fragments\n    if (options.indent != null) {\n      this.indent = options.indent;\n    }\n    if (options.characterSpacing != null) {\n      this.characterSpacing = options.characterSpacing;\n    }\n    if (options.wordSpacing != null) {\n      this.wordSpacing = options.wordSpacing;\n    }\n    if (options.ellipsis != null) {\n      this.ellipsis = options.ellipsis;\n    }\n\n    // make sure we're actually on the page\n    // and that the first line of is never by\n    // itself at the bottom of a page (orphans)\n    const nextY = this.document.y + this.document.currentLineHeight(true);\n    if (this.document.y > this.maxY || nextY > this.maxY) {\n      this.nextSection();\n    }\n\n    let buffer = '';\n    let textWidth = 0;\n    let wc = 0;\n    let lc = 0;\n\n    let { y } = this.document; // used to reset Y pos if options.continued (below)\n    const emitLine = () => {\n      options.textWidth = textWidth + this.wordSpacing * (wc - 1);\n      options.wordCount = wc;\n      options.lineWidth = this.lineWidth;\n      ({ y } = this.document);\n      this.emit('line', buffer, options, this);\n      return lc++;\n    };\n\n    this.emit('sectionStart', options, this);\n\n    this.eachWord(text, (word, w, bk, last) => {\n      if (last == null || last.required) {\n        this.emit('firstLine', options, this);\n        this.spaceLeft = this.lineWidth;\n      }\n\n      if (w <= this.spaceLeft) {\n        buffer += word;\n        textWidth += w;\n        wc++;\n      }\n\n      if (bk.required || w > this.spaceLeft) {\n        // if the user specified a max height and an ellipsis, and is about to pass the\n        // max height and max columns after the next line, append the ellipsis\n        const lh = this.document.currentLineHeight(true);\n        if (\n          this.height != null &&\n          this.ellipsis &&\n          this.document.y + lh * 2 > this.maxY &&\n          this.column >= this.columns\n        ) {\n          if (this.ellipsis === true) {\n            this.ellipsis = '';\n          } // map default ellipsis character\n          buffer = buffer.replace(/\\s+$/, '');\n          textWidth = this.wordWidth(buffer + this.ellipsis);\n\n          // remove characters from the buffer until the ellipsis fits\n          // to avoid inifinite loop need to stop while-loop if buffer is empty string\n          while (buffer && textWidth > this.lineWidth) {\n            buffer = buffer.slice(0, -1).replace(/\\s+$/, '');\n            textWidth = this.wordWidth(buffer + this.ellipsis);\n          }\n          // need to add ellipsis only if there is enough space for it\n          if (textWidth <= this.lineWidth) {\n            buffer = buffer + this.ellipsis;\n          }\n\n          textWidth = this.wordWidth(buffer);\n        }\n\n        if (bk.required) {\n          if (w > this.spaceLeft) {\n            emitLine();\n            buffer = word;\n            textWidth = w;\n            wc = 1;\n          }\n\n          this.emit('lastLine', options, this);\n        }\n\n        emitLine();\n\n        // if we've reached the edge of the page,\n        // continue on a new page or column\n        if (this.document.y + lh > this.maxY) {\n          const shouldContinue = this.nextSection();\n\n          // stop if we reached the maximum height\n          if (!shouldContinue) {\n            wc = 0;\n            buffer = '';\n            return false;\n          }\n        }\n\n        // reset the space left and buffer\n        if (bk.required) {\n          this.spaceLeft = this.lineWidth;\n          buffer = '';\n          textWidth = 0;\n          return (wc = 0);\n        } else {\n          // reset the space left and buffer\n          this.spaceLeft = this.lineWidth - w;\n          buffer = word;\n          textWidth = w;\n          return (wc = 1);\n        }\n      } else {\n        return (this.spaceLeft -= w);\n      }\n    });\n\n    if (wc > 0) {\n      this.emit('lastLine', options, this);\n      emitLine();\n    }\n\n    this.emit('sectionEnd', options, this);\n\n    // if the wrap is set to be continued, save the X position\n    // to start the first line of the next segment at, and reset\n    // the y position\n    if (options.continued === true) {\n      if (lc > 1) {\n        this.continuedX = 0;\n      }\n      this.continuedX += options.textWidth || 0;\n      return (this.document.y = y);\n    } else {\n      return (this.document.x = this.startX);\n    }\n  }\n\n  nextSection(options) {\n    this.emit('sectionEnd', options, this);\n\n    if (++this.column > this.columns) {\n      // if a max height was specified by the user, we're done.\n      // otherwise, the default is to make a new page at the bottom.\n      if (this.height != null) {\n        return false;\n      }\n\n      this.document.addPage();\n      this.column = 1;\n      this.startY = this.document.page.margins.top;\n      this.maxY = this.document.page.maxY();\n      this.document.x = this.startX;\n      if (this.document._fillColor) {\n        this.document.fillColor(...(this.document._fillColor || []));\n      }\n      this.emit('pageBreak', options, this);\n    } else {\n      this.document.x += this.lineWidth + this.columnGap;\n      this.document.y = this.startY;\n      this.emit('columnBreak', options, this);\n    }\n\n    this.emit('sectionStart', options, this);\n    return true;\n  }\n}\n\nexport default LineWrapper;\n","import LineWrapper from '../line_wrapper';\nimport PDFObject from '../object';\n\nconst { number } = PDFObject;\n\nexport default {\n  initText() {\n    this._line = this._line.bind(this);\n    // Current coordinates\n    this.x = 0;\n    this.y = 0;\n    return (this._lineGap = 0);\n  },\n\n  lineGap(_lineGap) {\n    this._lineGap = _lineGap;\n    return this;\n  },\n\n  moveDown(lines) {\n    if (lines == null) {\n      lines = 1;\n    }\n    this.y += this.currentLineHeight(true) * lines + this._lineGap;\n    return this;\n  },\n\n  moveUp(lines) {\n    if (lines == null) {\n      lines = 1;\n    }\n    this.y -= this.currentLineHeight(true) * lines + this._lineGap;\n    return this;\n  },\n\n  _text(text, x, y, options, lineCallback) {\n    options = this._initOptions(x, y, options);\n\n    // Convert text to a string\n    text = text == null ? '' : `${text}`;\n\n    // if the wordSpacing option is specified, remove multiple consecutive spaces\n    if (options.wordSpacing) {\n      text = text.replace(/\\s{2,}/g, ' ');\n    }\n\n    // word wrapping\n    if (options.width) {\n      let wrapper = this._wrapper;\n      if (!wrapper) {\n        wrapper = new LineWrapper(this, options);\n        wrapper.on('line', lineCallback);\n      }\n\n      this._wrapper = options.continued ? wrapper : null;\n      this._textOptions = options.continued ? options : null;\n      wrapper.wrap(text, options);\n\n      // render paragraphs as single lines\n    } else {\n      for (let line of text.split('\\n')) {\n        lineCallback(line, options);\n      }\n    }\n\n    return this;\n  },\n\n  text(text, x, y, options) {\n    return this._text(text, x, y, options, this._line);\n  },\n\n  widthOfString(string, options) {\n    if (options == null) {\n      options = {};\n    }\n    return (\n      this._font.widthOfString(string, this._fontSize, options.features) +\n      (options.characterSpacing || 0) * (string.length - 1)\n    );\n  },\n\n  heightOfString(text, options) {\n    if (options == null) {\n      options = {};\n    }\n    const { x, y } = this;\n\n    options = this._initOptions(options);\n    options.height = Infinity; // don't break pages\n\n    const lineGap = options.lineGap || this._lineGap || 0;\n    this._text(text, this.x, this.y, options, (line, options) => {\n      return (this.y += this.currentLineHeight(true) + lineGap);\n    });\n\n    const height = this.y - y;\n    this.x = x;\n    this.y = y;\n\n    return height;\n  },\n\n  list(list, x, y, options, wrapper) {\n    options = this._initOptions(x, y, options);\n\n    const listType = options.listType || 'bullet';\n    const unit = Math.round((this._font.ascender / 1000) * this._fontSize);\n    const midLine = unit / 2;\n    const r = options.bulletRadius || unit / 3;\n    const indent =\n      options.textIndent || (listType === 'bullet' ? r * 5 : unit * 2);\n    const itemIndent =\n      options.bulletIndent || (listType === 'bullet' ? r * 8 : unit * 2);\n\n    let level = 1;\n    const items = [];\n    const levels = [];\n    const numbers = [];\n\n    var flatten = function(list) {\n      let n = 1;\n      for (let i = 0; i < list.length; i++) {\n        const item = list[i];\n        if (Array.isArray(item)) {\n          level++;\n          flatten(item);\n          level--;\n        } else {\n          items.push(item);\n          levels.push(level);\n          if (listType !== 'bullet') {\n            numbers.push(n++);\n          }\n        }\n      }\n    };\n\n    flatten(list);\n\n    const label = function(n) {\n      switch (listType) {\n        case 'numbered':\n          return `${n}.`;\n        case 'lettered':\n          var letter = String.fromCharCode(((n - 1) % 26) + 65);\n          var times = Math.floor((n - 1) / 26 + 1);\n          var text = Array(times + 1).join(letter);\n          return `${text}.`;\n      }\n    };\n\n    wrapper = new LineWrapper(this, options);\n    wrapper.on('line', this._line);\n\n    level = 1;\n    let i = 0;\n    wrapper.on('firstLine', () => {\n      let l;\n      if ((l = levels[i++]) !== level) {\n        const diff = itemIndent * (l - level);\n        this.x += diff;\n        wrapper.lineWidth -= diff;\n        level = l;\n      }\n\n      switch (listType) {\n        case 'bullet':\n          this.circle(this.x - indent + r, this.y + midLine, r);\n          return this.fill();\n        case 'numbered':\n        case 'lettered':\n          var text = label(numbers[i - 1]);\n          return this._fragment(text, this.x - indent, this.y, options);\n      }\n    });\n\n    wrapper.on('sectionStart', () => {\n      const pos = indent + itemIndent * (level - 1);\n      this.x += pos;\n      return (wrapper.lineWidth -= pos);\n    });\n\n    wrapper.on('sectionEnd', () => {\n      const pos = indent + itemIndent * (level - 1);\n      this.x -= pos;\n      return (wrapper.lineWidth += pos);\n    });\n\n    wrapper.wrap(items.join('\\n'), options);\n\n    return this;\n  },\n\n  _initOptions(x, y, options) {\n    if (x == null) {\n      x = {};\n    }\n    if (options == null) {\n      options = {};\n    }\n    if (typeof x === 'object') {\n      options = x;\n      x = null;\n    }\n\n    // clone options object\n    options = (function() {\n      const opts = {};\n      for (let k in options) {\n        const v = options[k];\n        opts[k] = v;\n      }\n      return opts;\n    })();\n\n    // extend options with previous values for continued text\n    if (this._textOptions) {\n      for (let key in this._textOptions) {\n        const val = this._textOptions[key];\n        if (key !== 'continued') {\n          if (options[key] == null) {\n            options[key] = val;\n          }\n        }\n      }\n    }\n\n    // Update the current position\n    if (x != null) {\n      this.x = x;\n    }\n    if (y != null) {\n      this.y = y;\n    }\n\n    // wrap to margins if no x or y position passed\n    if (options.lineBreak !== false) {\n      if (options.width == null) {\n        options.width = this.page.width - this.x - this.page.margins.right;\n      }\n    }\n\n    if (!options.columns) {\n      options.columns = 0;\n    }\n    if (options.columnGap == null) {\n      options.columnGap = 18;\n    } // 1/4 inch\n\n    return options;\n  },\n\n  _line(text, options, wrapper) {\n    if (options == null) {\n      options = {};\n    }\n    this._fragment(text, this.x, this.y, options);\n    const lineGap = options.lineGap || this._lineGap || 0;\n\n    if (!wrapper) {\n      return (this.x += this.widthOfString(text));\n    } else {\n      return (this.y += this.currentLineHeight(true) + lineGap);\n    }\n  },\n\n  _fragment(text, x, y, options) {\n    let dy, encoded, i, positions, textWidth, words;\n    text = `${text}`.replace(/\\n/g, '');\n    if (text.length === 0) {\n      return;\n    }\n\n    // handle options\n    const align = options.align || 'left';\n    let wordSpacing = options.wordSpacing || 0;\n    const characterSpacing = options.characterSpacing || 0;\n\n    // text alignments\n    if (options.width) {\n      switch (align) {\n        case 'right':\n          textWidth = this.widthOfString(text.replace(/\\s+$/, ''), options);\n          x += options.lineWidth - textWidth;\n          break;\n\n        case 'center':\n          x += options.lineWidth / 2 - options.textWidth / 2;\n          break;\n\n        case 'justify':\n          // calculate the word spacing value\n          words = text.trim().split(/\\s+/);\n          textWidth = this.widthOfString(text.replace(/\\s+/g, ''), options);\n          var spaceWidth = this.widthOfString(' ') + characterSpacing;\n          wordSpacing = Math.max(\n            0,\n            (options.lineWidth - textWidth) / Math.max(1, words.length - 1) -\n              spaceWidth\n          );\n          break;\n      }\n    }\n\n    // text baseline alignments based on http://wiki.apache.org/xmlgraphics-fop/LineLayout/AlignmentHandling\n    if (typeof options.baseline === 'number') {\n      dy = -options.baseline;\n    } else {\n      switch (options.baseline) {\n        case 'svg-middle':\n          dy = 0.5 * this._font.xHeight;\n          break;\n        case 'middle':\n        case 'svg-central':\n          dy = 0.5 * (this._font.descender + this._font.ascender);\n          break;\n        case 'bottom':\n        case 'ideographic':\n          dy = this._font.descender;\n          break;\n        case 'alphabetic':\n          dy = 0;\n          break;\n        case 'mathematical':\n          dy = 0.5 * this._font.ascender;\n          break;\n        case 'hanging':\n          dy = 0.8 * this._font.ascender;\n          break;\n        case 'top':\n          dy = this._font.ascender;\n          break;\n        default:\n          dy = this._font.ascender;\n      }\n      dy = (dy / 1000) * this._fontSize;\n    }\n\n    // calculate the actual rendered width of the string after word and character spacing\n    const renderedWidth =\n      options.textWidth +\n      wordSpacing * (options.wordCount - 1) +\n      characterSpacing * (text.length - 1);\n\n    // create link annotations if the link option is given\n    if (options.link != null) {\n      this.link(x, y, renderedWidth, this.currentLineHeight(), options.link);\n    }\n\n    // create underline or strikethrough line\n    if (options.underline || options.strike) {\n      this.save();\n      if (!options.stroke) {\n        this.strokeColor(...(this._fillColor || []));\n      }\n\n      const lineWidth =\n        this._fontSize < 10 ? 0.5 : Math.floor(this._fontSize / 10);\n      this.lineWidth(lineWidth);\n\n      const d = options.underline ? 1 : 2;\n      let lineY = y + this.currentLineHeight() / d;\n      if (options.underline) {\n        lineY -= lineWidth;\n      }\n\n      this.moveTo(x, lineY);\n      this.lineTo(x + renderedWidth, lineY);\n      this.stroke();\n      this.restore();\n    }\n\n    this.save();\n\n    // oblique (angle in degrees or boolean)\n    if (options.oblique) {\n      let skew;\n      if (typeof options.oblique === 'number') {\n        skew = -Math.tan((options.oblique * Math.PI) / 180);\n      } else {\n        skew = -0.25;\n      }\n      this.transform(1, 0, 0, 1, x, y);\n      this.transform(1, 0, skew, 1, -skew * dy, 0);\n      this.transform(1, 0, 0, 1, -x, -y);\n    }\n\n    // flip coordinate system\n    this.transform(1, 0, 0, -1, 0, this.page.height);\n    y = this.page.height - y - dy;\n\n    // add current font to page if necessary\n    if (this.page.fonts[this._font.id] == null) {\n      this.page.fonts[this._font.id] = this._font.ref();\n    }\n\n    // begin the text object\n    this.addContent('BT');\n\n    // text position\n    this.addContent(`1 0 0 1 ${number(x)} ${number(y)} Tm`);\n\n    // font and font size\n    this.addContent(`/${this._font.id} ${number(this._fontSize)} Tf`);\n\n    // rendering mode\n    const mode = options.fill && options.stroke ? 2 : options.stroke ? 1 : 0;\n    if (mode) {\n      this.addContent(`${mode} Tr`);\n    }\n\n    // Character spacing\n    if (characterSpacing) {\n      this.addContent(`${number(characterSpacing)} Tc`);\n    }\n\n    // Add the actual text\n    // If we have a word spacing value, we need to encode each word separately\n    // since the normal Tw operator only works on character code 32, which isn't\n    // used for embedded fonts.\n    if (wordSpacing) {\n      words = text.trim().split(/\\s+/);\n      wordSpacing += this.widthOfString(' ') + characterSpacing;\n      wordSpacing *= 1000 / this._fontSize;\n\n      encoded = [];\n      positions = [];\n      for (let word of words) {\n        const [encodedWord, positionsWord] = this._font.encode(\n          word,\n          options.features\n        );\n        encoded.push(...(encodedWord || []));\n        positions.push(...(positionsWord || []));\n\n        // add the word spacing to the end of the word\n        // clone object because of cache\n        const space = {};\n        const object = positions[positions.length - 1];\n        for (let key in object) {\n          const val = object[key];\n          space[key] = val;\n        }\n        space.xAdvance += wordSpacing;\n        positions[positions.length - 1] = space;\n      }\n    } else {\n      [encoded, positions] = this._font.encode(text, options.features);\n    }\n\n    const scale = this._fontSize / 1000;\n    const commands = [];\n    let last = 0;\n    let hadOffset = false;\n\n    // Adds a segment of text to the TJ command buffer\n    const addSegment = cur => {\n      if (last < cur) {\n        const hex = encoded.slice(last, cur).join('');\n        const advance =\n          positions[cur - 1].xAdvance - positions[cur - 1].advanceWidth;\n        commands.push(`<${hex}> ${number(-advance)}`);\n      }\n\n      return (last = cur);\n    };\n\n    // Flushes the current TJ commands to the output stream\n    const flush = i => {\n      addSegment(i);\n\n      if (commands.length > 0) {\n        this.addContent(`[${commands.join(' ')}] TJ`);\n        return (commands.length = 0);\n      }\n    };\n\n    for (i = 0; i < positions.length; i++) {\n      // If we have an x or y offset, we have to break out of the current TJ command\n      // so we can move the text position.\n      const pos = positions[i];\n      if (pos.xOffset || pos.yOffset) {\n        // Flush the current buffer\n        flush(i);\n\n        // Move the text position and flush just the current character\n        this.addContent(\n          `1 0 0 1 ${number(x + pos.xOffset * scale)} ${number(\n            y + pos.yOffset * scale\n          )} Tm`\n        );\n        flush(i + 1);\n\n        hadOffset = true;\n      } else {\n        // If the last character had an offset, reset the text position\n        if (hadOffset) {\n          this.addContent(`1 0 0 1 ${number(x)} ${number(y)} Tm`);\n          hadOffset = false;\n        }\n\n        // Group segments that don't have any advance adjustments\n        if (pos.xAdvance - pos.advanceWidth !== 0) {\n          addSegment(i + 1);\n        }\n      }\n\n      x += pos.xAdvance * scale;\n    }\n\n    // Flush any remaining commands\n    flush(i);\n\n    // end the text object\n    this.addContent('ET');\n\n    // restore flipped coordinate system\n    return this.restore();\n  }\n};\n","const MARKERS = [\n  0xffc0,\n  0xffc1,\n  0xffc2,\n  0xffc3,\n  0xffc5,\n  0xffc6,\n  0xffc7,\n  0xffc8,\n  0xffc9,\n  0xffca,\n  0xffcb,\n  0xffcc,\n  0xffcd,\n  0xffce,\n  0xffcf\n];\n\nconst COLOR_SPACE_MAP = {\n  1: 'DeviceGray',\n  3: 'DeviceRGB',\n  4: 'DeviceCMYK'\n};\n\nclass JPEG {\n  constructor(data, label) {\n    let marker;\n    this.data = data;\n    this.label = label;\n    if (this.data.readUInt16BE(0) !== 0xffd8) {\n      throw 'SOI not found in JPEG';\n    }\n\n    let pos = 2;\n    while (pos < this.data.length) {\n      marker = this.data.readUInt16BE(pos);\n      pos += 2;\n      if (MARKERS.includes(marker)) {\n        break;\n      }\n      pos += this.data.readUInt16BE(pos);\n    }\n\n    if (!MARKERS.includes(marker)) {\n      throw 'Invalid JPEG.';\n    }\n    pos += 2;\n\n    this.bits = this.data[pos++];\n    this.height = this.data.readUInt16BE(pos);\n    pos += 2;\n\n    this.width = this.data.readUInt16BE(pos);\n    pos += 2;\n\n    const channels = this.data[pos++];\n    this.colorSpace = COLOR_SPACE_MAP[channels];\n\n    this.obj = null;\n  }\n\n  embed(document) {\n    if (this.obj) {\n      return;\n    }\n\n    this.obj = document.ref({\n      Type: 'XObject',\n      Subtype: 'Image',\n      BitsPerComponent: this.bits,\n      Width: this.width,\n      Height: this.height,\n      ColorSpace: this.colorSpace,\n      Filter: 'DCTDecode'\n    });\n\n    // add extra decode params for CMYK images. By swapping the\n    // min and max values from the default, we invert the colors. See\n    // section 4.8.4 of the spec.\n    if (this.colorSpace === 'DeviceCMYK') {\n      this.obj.data['Decode'] = [1.0, 0.0, 1.0, 0.0, 1.0, 0.0, 1.0, 0.0];\n    }\n\n    this.obj.end(this.data);\n\n    // free memory\n    return (this.data = null);\n  }\n}\n\nexport default JPEG;\n","import zlib from 'zlib';\nimport PNG from 'png-js';\n\nclass PNGImage {\n  constructor(data, label) {\n    this.label = label;\n    this.image = new PNG(data);\n    this.width = this.image.width;\n    this.height = this.image.height;\n    this.imgData = this.image.imgData;\n    this.obj = null;\n  }\n\n  embed(document) {\n    this.document = document;\n    if (this.obj) {\n      return;\n    }\n\n    const hasAlphaChannel = this.image.hasAlphaChannel;\n\n    this.obj = this.document.ref({\n      Type: 'XObject',\n      Subtype: 'Image',\n      BitsPerComponent: hasAlphaChannel ? 8 : this.image.bits,\n      Width: this.width,\n      Height: this.height,\n      Filter: 'FlateDecode'\n    });\n\n    if (!hasAlphaChannel) {\n      const params = this.document.ref({\n        Predictor: 15,\n        Colors: this.image.colors,\n        BitsPerComponent: this.image.bits,\n        Columns: this.width\n      });\n\n      this.obj.data['DecodeParms'] = params;\n      params.end();\n    }\n\n    if (this.image.palette.length === 0) {\n      this.obj.data['ColorSpace'] = this.image.colorSpace;\n    } else {\n      // embed the color palette in the PDF as an object stream\n      const palette = this.document.ref();\n      palette.end(new Buffer(this.image.palette));\n\n      // build the color space array for the image\n      this.obj.data['ColorSpace'] = [\n        'Indexed',\n        'DeviceRGB',\n        this.image.palette.length / 3 - 1,\n        palette\n      ];\n    }\n\n    // For PNG color types 0, 2 and 3, the transparency data is stored in\n    // a dedicated PNG chunk.\n    if (this.image.transparency.grayscale != null) {\n      // Use Color Key Masking (spec section 4.8.5)\n      // An array with N elements, where N is two times the number of color components.\n      const val = this.image.transparency.grayscale;\n      this.obj.data['Mask'] = [val, val];\n    } else if (this.image.transparency.rgb) {\n      // Use Color Key Masking (spec section 4.8.5)\n      // An array with N elements, where N is two times the number of color components.\n      const { rgb } = this.image.transparency;\n      const mask = [];\n      for (let x of rgb) {\n        mask.push(x, x);\n      }\n\n      this.obj.data['Mask'] = mask;\n    } else if (this.image.transparency.indexed) {\n      // Create a transparency SMask for the image based on the data\n      // in the PLTE and tRNS sections. See below for details on SMasks.\n      return this.loadIndexedAlphaChannel();\n    } else if (hasAlphaChannel) {\n      // For PNG color types 4 and 6, the transparency data is stored as a alpha\n      // channel mixed in with the main image data. Separate this data out into an\n      // SMask object and store it separately in the PDF.\n      return this.splitAlphaChannel();\n    }\n    this.finalize();\n  }\n\n  finalize() {\n    if (this.alphaChannel) {\n      const sMask = this.document.ref({\n        Type: 'XObject',\n        Subtype: 'Image',\n        Height: this.height,\n        Width: this.width,\n        BitsPerComponent: 8,\n        Filter: 'FlateDecode',\n        ColorSpace: 'DeviceGray',\n        Decode: [0, 1]\n      });\n\n      sMask.end(this.alphaChannel);\n      this.obj.data['SMask'] = sMask;\n    }\n\n    // add the actual image data\n    this.obj.end(this.imgData);\n\n    // free memory\n    this.image = null;\n    return (this.imgData = null);\n  }\n\n  splitAlphaChannel() {\n    return this.image.decodePixels(pixels => {\n      let a, p;\n      const colorCount = this.image.colors;\n      const pixelCount = this.width * this.height;\n      const imgData = new Buffer(pixelCount * colorCount);\n      const alphaChannel = new Buffer(pixelCount);\n\n      let i = (p = a = 0);\n      const len = pixels.length;\n      // For 16bit images copy only most significant byte (MSB) - PNG data is always stored in network byte order (MSB first)\n      const skipByteCount = this.image.bits === 16 ? 1 : 0;\n      while (i < len) {\n        for (let colorIndex = 0; colorIndex < colorCount; colorIndex++) {\n          imgData[p++] = pixels[i++];\n          i += skipByteCount;\n        }\n        alphaChannel[a++] = pixels[i++];\n        i += skipByteCount;\n      }\n\n      this.imgData = zlib.deflateSync(imgData);\n      this.alphaChannel = zlib.deflateSync(alphaChannel);\n      return this.finalize();\n    });\n  }\n\n  loadIndexedAlphaChannel() {\n    const transparency = this.image.transparency.indexed;\n    return this.image.decodePixels(pixels => {\n      const alphaChannel = new Buffer(this.width * this.height);\n\n      let i = 0;\n      for (let j = 0, end = pixels.length; j < end; j++) {\n        alphaChannel[i++] = transparency[pixels[j]];\n      }\n\n      this.alphaChannel = zlib.deflateSync(alphaChannel);\n      return this.finalize();\n    });\n  }\n}\n\nexport default PNGImage;\n","/*\nPDFImage - embeds images in PDF documents\nBy Devon Govett\n*/\n\nimport fs from 'fs';\nimport JPEG from './image/jpeg';\nimport PNG from './image/png';\n\nclass PDFImage {\n  static open(src, label) {\n    let data;\n    if (Buffer.isBuffer(src)) {\n      data = src;\n    } else if (src instanceof ArrayBuffer) {\n      data = new Buffer(new Uint8Array(src));\n    } else {\n      let match;\n      if ((match = /^data:.+;base64,(.*)$/.exec(src))) {\n        data = new Buffer(match[1], 'base64');\n      } else {\n        data = fs.readFileSync(src);\n        if (!data) {\n          return;\n        }\n      }\n    }\n\n    if (data[0] === 0xff && data[1] === 0xd8) {\n      return new JPEG(data, label);\n    } else if (data[0] === 0x89 && data.toString('ascii', 1, 4) === 'PNG') {\n      return new PNG(data, label);\n    } else {\n      throw new Error('Unknown image format.');\n    }\n  }\n}\n\nexport default PDFImage;\n","import PDFImage from '../image';\n\nexport default {\n  initImages() {\n    this._imageRegistry = {};\n    return (this._imageCount = 0);\n  },\n\n  image(src, x, y, options) {\n    let bh, bp, bw, image, ip, left, left1;\n    if (options == null) {\n      options = {};\n    }\n    if (typeof x === 'object') {\n      options = x;\n      x = null;\n    }\n\n    x = (left = x != null ? x : options.x) != null ? left : this.x;\n    y = (left1 = y != null ? y : options.y) != null ? left1 : this.y;\n\n    if (typeof src === 'string') {\n      image = this._imageRegistry[src];\n    }\n\n    if (!image) {\n      if (src.width && src.height) {\n        image = src;\n      } else {\n        image = this.openImage(src);\n      }\n    }\n\n    if (!image.obj) {\n      image.embed(this);\n    }\n\n    if (this.page.xobjects[image.label] == null) {\n      this.page.xobjects[image.label] = image.obj;\n    }\n\n    let w = options.width || image.width;\n    let h = options.height || image.height;\n\n    if (options.width && !options.height) {\n      const wp = w / image.width;\n      w = image.width * wp;\n      h = image.height * wp;\n    } else if (options.height && !options.width) {\n      const hp = h / image.height;\n      w = image.width * hp;\n      h = image.height * hp;\n    } else if (options.scale) {\n      w = image.width * options.scale;\n      h = image.height * options.scale;\n    } else if (options.fit) {\n      [bw, bh] = options.fit;\n      bp = bw / bh;\n      ip = image.width / image.height;\n      if (ip > bp) {\n        w = bw;\n        h = bw / ip;\n      } else {\n        h = bh;\n        w = bh * ip;\n      }\n    } else if (options.cover) {\n      [bw, bh] = options.cover;\n      bp = bw / bh;\n      ip = image.width / image.height;\n      if (ip > bp) {\n        h = bh;\n        w = bh * ip;\n      } else {\n        w = bw;\n        h = bw / ip;\n      }\n    }\n\n    if (options.fit || options.cover) {\n      if (options.align === 'center') {\n        x = x + bw / 2 - w / 2;\n      } else if (options.align === 'right') {\n        x = x + bw - w;\n      }\n\n      if (options.valign === 'center') {\n        y = y + bh / 2 - h / 2;\n      } else if (options.valign === 'bottom') {\n        y = y + bh - h;\n      }\n    }\n\n    // Set the current y position to below the image if it is in the document flow\n    if (this.y === y) {\n      this.y += h;\n    }\n\n    this.save();\n    this.transform(w, 0, 0, -h, x, y + h);\n    this.addContent(`/${image.label} Do`);\n    this.restore();\n\n    return this;\n  },\n\n  openImage(src) {\n    let image;\n    if (typeof src === 'string') {\n      image = this._imageRegistry[src];\n    }\n\n    if (!image) {\n      image = PDFImage.open(src, `I${++this._imageCount}`);\n      if (typeof src === 'string') {\n        this._imageRegistry[src] = image;\n      }\n    }\n\n    return image;\n  }\n};\n","export default {\n  annotate(x, y, w, h, options) {\n    options.Type = 'Annot';\n    options.Rect = this._convertRect(x, y, w, h);\n    options.Border = [0, 0, 0];\n    if (options.Subtype !== 'Link') {\n      if (options.C == null) {\n        options.C = this._normalizeColor(options.color || [0, 0, 0]);\n      }\n    } // convert colors\n    delete options.color;\n\n    if (typeof options.Dest === 'string') {\n      options.Dest = new String(options.Dest);\n    }\n\n    // Capitalize keys\n    for (let key in options) {\n      const val = options[key];\n      options[key[0].toUpperCase() + key.slice(1)] = val;\n    }\n\n    const ref = this.ref(options);\n    this.page.annotations.push(ref);\n    ref.end();\n    return this;\n  },\n\n  note(x, y, w, h, contents, options) {\n    if (options == null) {\n      options = {};\n    }\n    options.Subtype = 'Text';\n    options.Contents = new String(contents);\n    options.Name = 'Comment';\n    if (options.color == null) {\n      options.color = [243, 223, 92];\n    }\n    return this.annotate(x, y, w, h, options);\n  },\n\n  link(x, y, w, h, url, options) {\n    if (options == null) {\n      options = {};\n    }\n    options.Subtype = 'Link';\n\n    if (typeof url === 'number') {\n      // Link to a page in the document (the page must already exist)\n      const pages = this._root.data.Pages.data;\n      if (url >= 0 && url < pages.Kids.length) {\n        options.A = this.ref({\n          S: 'GoTo',\n          D: [pages.Kids[url], 'XYZ', null, null, null]\n        });\n        options.A.end();\n      } else {\n        throw new Error(`The document has no page ${url}`);\n      }\n    } else {\n      // Link to an external url\n      options.A = this.ref({\n        S: 'URI',\n        URI: new String(url)\n      });\n      options.A.end();\n    }\n\n    return this.annotate(x, y, w, h, options);\n  },\n\n  _markup(x, y, w, h, options) {\n    if (options == null) {\n      options = {};\n    }\n    const [x1, y1, x2, y2] = this._convertRect(x, y, w, h);\n    options.QuadPoints = [x1, y2, x2, y2, x1, y1, x2, y1];\n    options.Contents = new String();\n    return this.annotate(x, y, w, h, options);\n  },\n\n  highlight(x, y, w, h, options) {\n    if (options == null) {\n      options = {};\n    }\n    options.Subtype = 'Highlight';\n    if (options.color == null) {\n      options.color = [241, 238, 148];\n    }\n    return this._markup(x, y, w, h, options);\n  },\n\n  underline(x, y, w, h, options) {\n    if (options == null) {\n      options = {};\n    }\n    options.Subtype = 'Underline';\n    return this._markup(x, y, w, h, options);\n  },\n\n  strike(x, y, w, h, options) {\n    if (options == null) {\n      options = {};\n    }\n    options.Subtype = 'StrikeOut';\n    return this._markup(x, y, w, h, options);\n  },\n\n  lineAnnotation(x1, y1, x2, y2, options) {\n    if (options == null) {\n      options = {};\n    }\n    options.Subtype = 'Line';\n    options.Contents = new String();\n    options.L = [x1, this.page.height - y1, x2, this.page.height - y2];\n    return this.annotate(x1, y1, x2, y2, options);\n  },\n\n  rectAnnotation(x, y, w, h, options) {\n    if (options == null) {\n      options = {};\n    }\n    options.Subtype = 'Square';\n    options.Contents = new String();\n    return this.annotate(x, y, w, h, options);\n  },\n\n  ellipseAnnotation(x, y, w, h, options) {\n    if (options == null) {\n      options = {};\n    }\n    options.Subtype = 'Circle';\n    options.Contents = new String();\n    return this.annotate(x, y, w, h, options);\n  },\n\n  textAnnotation(x, y, w, h, text, options) {\n    if (options == null) {\n      options = {};\n    }\n    options.Subtype = 'FreeText';\n    options.Contents = new String(text);\n    options.DA = new String();\n    return this.annotate(x, y, w, h, options);\n  },\n\n  _convertRect(x1, y1, w, h) {\n    // flip y1 and y2\n    let y2 = y1;\n    y1 += h;\n\n    // make x2\n    let x2 = x1 + w;\n\n    // apply current transformation matrix to points\n    const [m0, m1, m2, m3, m4, m5] = this._ctm;\n    x1 = m0 * x1 + m2 * y1 + m4;\n    y1 = m1 * x1 + m3 * y1 + m5;\n    x2 = m0 * x2 + m2 * y2 + m4;\n    y2 = m1 * x2 + m3 * y2 + m5;\n\n    return [x1, y1, x2, y2];\n  }\n};\n","class PDFOutline {\n  constructor(document, parent, title, dest, options) {\n    this.document = document;\n    if (options == null) {\n      options = { expanded: false };\n    }\n    this.options = options;\n    this.outlineData = {};\n\n    if (dest !== null) {\n      this.outlineData['Dest'] = [dest.dictionary, 'Fit'];\n    }\n\n    if (parent !== null) {\n      this.outlineData['Parent'] = parent;\n    }\n\n    if (title !== null) {\n      this.outlineData['Title'] = new String(title);\n    }\n\n    this.dictionary = this.document.ref(this.outlineData);\n    this.children = [];\n  }\n\n  addItem(title, options) {\n    if (options == null) {\n      options = { expanded: false };\n    }\n    const result = new PDFOutline(\n      this.document,\n      this.dictionary,\n      title,\n      this.document.page,\n      options\n    );\n    this.children.push(result);\n\n    return result;\n  }\n\n  endOutline() {\n    let end;\n    if (this.children.length > 0) {\n      let asc, i;\n      if (this.options.expanded) {\n        this.outlineData.Count = this.children.length;\n      }\n\n      const first = this.children[0],\n        last = this.children[this.children.length - 1];\n      this.outlineData.First = first.dictionary;\n      this.outlineData.Last = last.dictionary;\n\n      for (\n        i = 0, end = this.children.length, asc = 0 <= end;\n        asc ? i < end : i > end;\n        asc ? i++ : i--\n      ) {\n        const child = this.children[i];\n        if (i > 0) {\n          child.outlineData.Prev = this.children[i - 1].dictionary;\n        }\n        if (i < this.children.length - 1) {\n          child.outlineData.Next = this.children[i + 1].dictionary;\n        }\n        child.endOutline();\n      }\n    }\n\n    return this.dictionary.end();\n  }\n}\n\nexport default PDFOutline;\n","import PDFOutline from '../outline';\n\nexport default {\n  initOutline() {\n    return (this.outline = new PDFOutline(this, null, null, null));\n  },\n\n  endOutline() {\n    this.outline.endOutline();\n    if (this.outline.children.length > 0) {\n      this._root.data.Outlines = this.outline.dictionary;\n      return (this._root.data.PageMode = 'UseOutlines');\n    }\n  }\n};\n","/*\nPDFDocument - represents an entire PDF document\nBy Devon Govett\n*/\n\nimport stream from 'stream';\nimport fs from 'fs';\nimport PDFObject from './object';\nimport PDFReference from './reference';\nimport PDFPage from './page';\nimport PDFSecurity from './security';\nimport ColorMixin from './mixins/color';\nimport VectorMixin from './mixins/vector';\nimport FontsMixin from './mixins/fonts';\nimport TextMixin from './mixins/text';\nimport ImagesMixin from './mixins/images';\nimport AnnotationsMixin from './mixins/annotations';\nimport OutlineMixin from './mixins/outline';\n\nclass PDFDocument extends stream.Readable {\n  constructor(options = {}) {\n    super(options);\n    this.options = options;\n\n    // PDF version\n    switch (options.pdfVersion) {\n      case '1.4':\n        this.version = 1.4;\n        break;\n      case '1.5':\n        this.version = 1.5;\n        break;\n      case '1.6':\n        this.version = 1.6;\n        break;\n      case '1.7':\n      case '1.7ext3':\n        this.version = 1.7;\n        break;\n      default:\n        this.version = 1.3;\n        break;\n    }\n\n    // Whether streams should be compressed\n    this.compress =\n      this.options.compress != null ? this.options.compress : true;\n\n    this._pageBuffer = [];\n    this._pageBufferStart = 0;\n\n    // The PDF object store\n    this._offsets = [];\n    this._waiting = 0;\n    this._ended = false;\n    this._offset = 0;\n    const Pages = this.ref({\n      Type: 'Pages',\n      Count: 0,\n      Kids: []\n    });\n\n    Pages.finalize = function() {\n      this.offset = this.document._offset;\n      this.document._write(this.id + ' ' + this.gen + ' obj');\n      this.document._write('<<');\n      this.document._write('/Type /Pages');\n      this.document._write(`/Count ${this.data.Count}`);\n      this.document._write(\n        `/Kids [${Buffer.concat(this.data.Kids)\n          .slice(0, -1)\n          .toString()}]`\n      );\n      this.document._write('>>');\n      this.document._write('endobj');\n      return this.document._refEnd(this);\n    };\n\n    this._root = this.ref({\n      Type: 'Catalog',\n      Pages\n    });\n\n    // The current page\n    this.page = null;\n\n    // Initialize mixins\n    this.initColor();\n    this.initVector();\n    this.initFonts();\n    this.initText();\n    this.initImages();\n    this.initOutline();\n\n    // Initialize the metadata\n    this.info = {\n      Producer: 'PDFKit',\n      Creator: 'PDFKit',\n      CreationDate: new Date()\n    };\n\n    if (this.options.info) {\n      for (let key in this.options.info) {\n        const val = this.options.info[key];\n        this.info[key] = val;\n      }\n    }\n\n    // Generate file ID\n    this._id = PDFSecurity.generateFileID(this.info);\n\n    // Initialize security settings\n    this._security = PDFSecurity.create(this, options);\n\n    // Write the header\n    // PDF version\n    this._write(`%PDF-${this.version}`);\n\n    // 4 binary chars, as recommended by the spec\n    this._write('%\\xFF\\xFF\\xFF\\xFF');\n\n    // Add the first page\n    if (this.options.autoFirstPage !== false) {\n      this.addPage();\n    }\n  }\n\n  addPage(options) {\n    // end the current page if needed\n    if (options == null) {\n      ({ options } = this);\n    }\n    if (!this.options.bufferPages) {\n      this.flushPages();\n    }\n\n    // create a page object\n    this.page = new PDFPage(this, options);\n    this._pageBuffer.push(this.page);\n\n    // add the page to the object store\n    const pages = this._root.data.Pages.data;\n    pages.Kids.push(new Buffer(this.page.dictionary + ' '));\n    pages.Count++;\n\n    // reset x and y coordinates\n    this.x = this.page.margins.left;\n    this.y = this.page.margins.top;\n\n    // flip PDF coordinate system so that the origin is in\n    // the top left rather than the bottom left\n    this._ctm = [1, 0, 0, 1, 0, 0];\n    this.transform(1, 0, 0, -1, 0, this.page.height);\n\n    this.emit('pageAdded');\n\n    return this;\n  }\n\n  bufferedPageRange() {\n    return { start: this._pageBufferStart, count: this._pageBuffer.length };\n  }\n\n  switchToPage(n) {\n    let page;\n    if (!(page = this._pageBuffer[n - this._pageBufferStart])) {\n      throw new Error(\n        `switchToPage(${n}) out of bounds, current buffer covers pages ${\n          this._pageBufferStart\n        } to ${this._pageBufferStart + this._pageBuffer.length - 1}`\n      );\n    }\n\n    return (this.page = page);\n  }\n\n  flushPages() {\n    // this local variable exists so we're future-proof against\n    // reentrant calls to flushPages.\n    const pages = this._pageBuffer;\n    this._pageBuffer = [];\n    this._pageBufferStart += pages.length;\n    for (let page of pages) {\n      page.end();\n    }\n  }\n\n  ref(data) {\n    const ref = new PDFReference(this, this._offsets.length + 1, data);\n    this._offsets.push(null); // placeholder for this object's offset once it is finalized\n    this._waiting++;\n    return ref;\n  }\n\n  _read() {}\n  // do nothing, but this method is required by node\n\n  _write(data) {\n    if (!Buffer.isBuffer(data)) {\n      data = new Buffer(data + '\\n', 'binary');\n    }\n\n    this.push(data);\n    return (this._offset += data.length);\n  }\n\n  addContent(data) {\n    this.page.write(data);\n    return this;\n  }\n\n  _refEnd(ref) {\n    this._offsets[ref.id - 1] = ref.offset;\n    if (--this._waiting === 0 && this._ended) {\n      this._finalize();\n      return (this._ended = false);\n    }\n  }\n\n  write(filename, fn) {\n    // print a deprecation warning with a stacktrace\n    const err = new Error(`\\\nPDFDocument#write is deprecated, and will be removed in a future version of PDFKit. \\\nPlease pipe the document into a Node stream.\\\n`);\n\n    console.warn(err.stack);\n\n    this.pipe(fs.createWriteStream(filename));\n    this.end();\n    return this.once('end', fn);\n  }\n\n  output(fn) {\n    // more difficult to support this. It would involve concatenating all the buffers together\n    throw new Error(`\\\nPDFDocument#output is deprecated, and has been removed from PDFKit. \\\nPlease pipe the document into a Node stream.\\\n`);\n  }\n\n  end() {\n    this.flushPages();\n    this._info = this.ref();\n    for (let key in this.info) {\n      let val = this.info[key];\n      if (typeof val === 'string') {\n        val = new String(val);\n      }\n\n      let entry = this.ref(val);\n      entry.end();\n\n      this._info.data[key] = entry;\n    }\n\n    this._info.end();\n\n    for (let name in this._fontFamilies) {\n      const font = this._fontFamilies[name];\n      font.finalize();\n    }\n\n    this.endOutline();\n\n    this._root.end();\n    this._root.data.Pages.end();\n\n    if (this._security) {\n      this._security.end();\n    }\n\n    if (this._waiting === 0) {\n      return this._finalize();\n    } else {\n      return (this._ended = true);\n    }\n  }\n\n  _finalize(fn) {\n    // generate xref\n    const xRefOffset = this._offset;\n    this._write('xref');\n    this._write(`0 ${this._offsets.length + 1}`);\n    this._write('0000000000 65535 f ');\n\n    for (let offset of this._offsets) {\n      offset = `0000000000${offset}`.slice(-10);\n      this._write(offset + ' 00000 n ');\n    }\n\n    // trailer\n    const trailer = {\n      Size: this._offsets.length + 1,\n      Root: this._root,\n      Info: this._info,\n      ID: [this._id, this._id]\n    };\n    if (this._security) {\n      trailer.Encrypt = this._security.dictionary;\n    }\n\n    this._write('trailer');\n    this._write(PDFObject.convert(trailer));\n\n    this._write('startxref');\n    this._write(`${xRefOffset}`);\n    this._write('%%EOF');\n\n    // end the stream\n    return this.push(null);\n  }\n\n  toString() {\n    return '[object PDFDocument]';\n  }\n}\n\nconst mixin = methods => {\n  Object.assign(PDFDocument.prototype, methods);\n};\n\nmixin(ColorMixin);\nmixin(VectorMixin);\nmixin(FontsMixin);\nmixin(TextMixin);\nmixin(ImagesMixin);\nmixin(AnnotationsMixin);\nmixin(OutlineMixin);\n\nexport default PDFDocument;\n"],"names":["PDFAbstractReference","Error","pad","str","length","Array","join","slice","escapableRe","escapable","swapBytes","buff","l","i","end","a","PDFObject","object","encryptFn","String","string","isUnicode","charCodeAt","stringBuffer","Buffer","toString","replace","c","isBuffer","Date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","isArray","items","map","convert","e","call","out","key","val","push","number","n","Math","round","PDFReference","document","id","data","gen","compress","Filter","uncompressedLength","buffer","chunk","Length","write","finalize","offset","_offset","_security","getEncryptFn","concat","zlib","deflateSync","_write","_refEnd","DEFAULT_MARGINS","SIZES","PDFPage","options","size","layout","margin","margins","dimensions","toUpperCase","width","height","content","ref","resources","dictionary","_root","Pages","bottom","Font","XObject","ExtGState","Pattern","Annots","PDFSecurity","info","infoStr","CreationDate","getTime","hasOwnProperty","wordArrayToBuffer","CryptoJS","MD5","bytes","lib","WordArray","random","ownerPassword","userPassword","_setupEncryption","pdfVersion","version","encDict","_setupEncryptionV1V2V4","_setupEncryptionV5","v","r","permissions","keyBits","getPermissionsR2","getPermissionsR3","paddedUserPassword","processPasswordR2R3R4","paddedOwnerPassword","ownerPasswordEntry","getOwnerPasswordR2R3R4","encryptionKey","getEncryptionKeyR2R3R4","_id","userPasswordEntry","getUserPasswordR2","getUserPasswordR3R4","V","CF","StmF","StrF","R","O","U","P","processedUserPassword","processPasswordR5","processedOwnerPassword","getEncryptionKeyR5","generateRandomWordArray","getUserPasswordR5","userKeySalt","create","words","userEncryptionKeyEntry","getUserEncryptionKeyR5","getOwnerPasswordR5","ownerKeySalt","ownerEncryptionKeyEntry","getOwnerEncryptionKeyR5","permsEntry","getEncryptedPermissionsR5","OE","UE","Perms","obj","digest","clone","sigBytes","min","RC4","encrypt","ciphertext","iv","mode","CBC","Pkcs7","AES","permissionObject","printing","modifying","copying","annotating","fillingForms","contentAccessibility","documentAssembly","documentId","cipher","xorRound","ceil","j","lsbFirstWord","validationSalt","keySalt","SHA256","NoPadding","ECB","password","index","code","PASSWORD_PADDING","unescape","encodeURIComponent","saslprep","wordArray","byteArray","floor","from","PDFGradient","doc","stops","embedded","transform","pos","color","opacity","_normalizeColor","_colorSpace","max","m11","m12","m21","m22","dx","dy","m","asc","fn","matrix","last","bounds","encode","_gradCount","shader","pattern","some","stop","grad","opacityGradient","embed","pageBBox","page","form","gstate","opacityPattern","patterns","op","_ctm","m0","m1","m2","m3","m4","m5","addContent","PDFLinearGradient","x1","y1","x2","y2","PDFRadialGradient","r1","r2","Gradient","_opacityRegistry","_opacityCount","charAt","hex","parseInt","namedColors","part","stroke","_setColorSpace","apply","space","set","_setColor","fillOpacity","_fillColor","strokeOpacity","_doOpacity","name","Type","ca","CA","ext_gstates","cx","cy","px","py","sx","sy","parameters","parse","path","cmd","ret","args","curArg","foundDecimal","params","includes","commands","runners","moveTo","bezierCurveTo","quadraticCurveTo","lineTo","closePath","solveArc","x","y","coords","rx","ry","rot","large","sweep","ex","ey","segs","arcToSegments","seg","bez","segmentToBezier","rotateX","ox","oy","th","PI","sin_th","sin","cos_th","cos","abs","pl","sqrt","a00","a01","a10","a11","x0","y0","d","sfactor_sq","sfactor","xc","yc","th0","atan2","th1","th_arc","segments","result","th2","th3","th_half","t","x3","y3","SVGPath","KAPPA","_ctmStack","pop","w","_CAP_STYLES","_JOIN_STYLES","phase","cp1x","cp1y","cp2x","cp2y","cpx","cpy","h","xe","ye","xm","ym","radius","ellipse","startAngle","endAngle","anticlockwise","TWO_PI","HALF_PI","deltaAng","dir","numSegs","segAng","handleLen","curAng","deltaCx","deltaCy","ax","ay","segIdx","points","shift","point","rule","test","fillColor","_windingRule","strokeColor","isFillRule","values","angle","rad","origin","xFactor","yFactor","WIN_ANSI_MAP","characters","split","AFMFont","filename","fs","readFileSync","contents","attributes","glyphWidths","boundingBoxes","kernPairs","charWidths","char","bbox","ascender","descender","xHeight","capHeight","lineGap","section","line","match","value","text","res","glyphs","charCode","characterToGlyph","character","glyph","left","right","advances","widthOfGlyph","getKernPair","PDFFont","includeGap","gap","STANDARD_FONTS","__dirname","StandardFont","font","encoded","encodeText","glyphsForString","advancesForGlyphs","positions","advance","scale","toHex","num","EmbeddedFont","subset","createSubset","unicode","widths","getGlyph","advanceWidth","postscriptName","unitsPerEm","ascent","descent","layoutCache","Object","features","run","position","cached","layoutRun","onlyWidth","needle","layoutCached","gid","includeGlyph","codePoints","isCFF","cff","fontFile","Subtype","encodeStream","on","familyClass","sFamilyClass","undefined","flags","post","isFixedPitch","head","macStyle","italic","tag","fromCharCode","descriptor","minX","minY","maxX","maxY","italicAngle","FontFile3","FontFile2","descendantFont","toUnicodeCmap","cmap","entries","PDFFontFactory","src","family","isStandardFont","fontkit","openSync","Uint8Array","ArrayBuffer","_fontFamilies","_fontCount","_fontSize","_font","_registeredFonts","cacheKey","fontSize","open","lineHeight","LineWrapper","indent","characterSpacing","wordSpacing","columns","columnGap","lineWidth","spaceLeft","startX","startY","column","ellipsis","continuedX","once","continued","align","lastLine","paragraphGap","word","widthOfString","bk","breaker","LineBreaker","wordWidths","nextBreak","shouldContinue","wordWidth","lbk","fbk","mightGrow","mustShrink","required","nextY","currentLineHeight","nextSection","textWidth","wc","lc","emitLine","wordCount","emit","eachWord","lh","addPage","top","EventEmitter","_line","bind","_lineGap","lines","lineCallback","_initOptions","wrapper","_wrapper","_textOptions","wrap","_text","Infinity","list","listType","unit","midLine","bulletRadius","textIndent","itemIndent","bulletIndent","level","levels","numbers","flatten","item","label","letter","times","diff","circle","fill","_fragment","opts","k","lineBreak","trim","spaceWidth","baseline","renderedWidth","link","underline","strike","save","lineY","restore","oblique","skew","tan","fonts","encodedWord","positionsWord","xAdvance","hadOffset","addSegment","cur","flush","xOffset","yOffset","MARKERS","COLOR_SPACE_MAP","JPEG","marker","readUInt16BE","bits","channels","colorSpace","PNGImage","image","PNG","imgData","hasAlphaChannel","colors","palette","transparency","grayscale","rgb","mask","indexed","loadIndexedAlphaChannel","splitAlphaChannel","alphaChannel","sMask","decodePixels","p","colorCount","pixelCount","len","pixels","skipByteCount","colorIndex","PDFImage","exec","_imageRegistry","_imageCount","bh","bp","bw","ip","left1","openImage","xobjects","wp","hp","fit","cover","valign","Rect","_convertRect","Border","C","Dest","annotations","Contents","Name","annotate","url","pages","Kids","A","QuadPoints","_markup","L","DA","PDFOutline","parent","title","dest","expanded","outlineData","children","Count","first","First","Last","child","Prev","Next","endOutline","outline","Outlines","PageMode","PDFDocument","_pageBuffer","_pageBufferStart","_offsets","_waiting","_ended","initColor","initVector","initFonts","initText","initImages","initOutline","generateFileID","autoFirstPage","bufferPages","flushPages","start","count","_finalize","err","warn","stack","pipe","createWriteStream","_info","entry","xRefOffset","trailer","Encrypt","stream","Readable","mixin","assign","prototype","methods","ColorMixin","VectorMixin","FontsMixin","TextMixin","ImagesMixin","AnnotationsMixin","OutlineMixin"],"mappings":"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"}